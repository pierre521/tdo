webpackJsonp([0],[,,function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){if(null==e||e===!1)return!1;if(Array.isArray(e))e.forEach(function(e){return s(t,e)});else{if("undefined"!=typeof e.content)return s(t,e.content);n&&t.push(" "),t.push(e)}return!0}function a(t){var e=[];return s(e,t),0==e.length?null:1==e.length?e[0]:e}e.__esModule=!0,e.Widget=e.VDOM=void 0,e.contentAppend=s,e.getContent=a;var l=n(29),u=n(51),c=n(157),p=n(28),h=n(179),d=n(163),f=n(86),y=e.VDOM=f.VDOM,m=100,g=e.Widget=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n));return i.widgetId=m++,Array.isArray(i.jsxSpread)&&(i.jsxAttributes||(i.jsxAttributes=[]),i.jsxSpread.forEach(function(t){for(var e in t)i[e]=t[e],i.jsxAttributes.push(e)})),Array.isArray(i.jsxAttributes)&&i.jsxAttributes.forEach(function(t){0==t.indexOf("on")&&t.length>2&&"string"==typeof i[t]&&!function(){var e=i[t];i[t]=function(t,n){for(var o=arguments.length,r=Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];var s;return(s=n.controller)[e].apply(s,[t,n].concat(r))}}(),0==t.indexOf("pipe")&&t.length>6&&"string"==typeof i[t]&&!function(){var e=i[t];i[t]=function(t,n){for(var o=arguments.length,r=Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];var s;return(s=n.controller)[e].apply(s,[t,n].concat(r))}}()}),i}return i(e,t),e.prototype.init=function(){if(this.declareData(),this.outerLayout){if(Array.isArray(this.outerLayout))throw new Error("Only single element outer layout is supported.");this.outerLayout=e.create(this.outerLayout)}this.contentFor&&(this.putInto=this.contentFor),this.putInto&&(this.isContent=!0),"string"==typeof this.CSS&&(this.CSS=u.CSSHelper.get(this.CSS)),this.initHelpers(),this.initComponents(),this.initialized=!0},e.prototype.initComponents=function(){if(arguments.length>0){this.components=Object.assign.apply(Object,arguments);for(var t in this.components)this.components[t]||delete this.components[t]}},e.prototype.initHelpers=function(){arguments.length>0&&(this.helpers=Object.assign.apply(Object,arguments))},e.prototype.declareData=function(){var t={visible:!0,mod:void 0};Object.assign.apply(Object,[t].concat(Array.prototype.slice.call(arguments))),this.selector=new c.StructuredSelector({props:t,values:this}),this.nameMap=this.selector.nameMap},e.prototype.prepareData=function(t,e){var n=e.data;n.classNames=this.CSS.expand(this.CSS.block(this.baseClass,n.mod,n.stateMods),n.class,n.className),n.style=this.CSS.parseStyle(n.style)},e.prototype.initInstance=function(t,e){this.onInit&&this.onInit(t,e)},e.prototype.initState=function(t,e){},e.prototype.checkVisible=function(t,e,n){return n.visible},e.prototype.explore=function(t,e){if(e.components)for(var n in e.components)e.components[n].explore(t)},e.prototype.prepare=function(t,e){if(e.components)for(var n in e.components)e.components[n].prepare(t)},e.prototype.render=function(t,e,n){throw new Error("render method should be overridden.")},e.prototype.cleanup=function(t,e){},e.prototype.update=function(){this.version=(this.version||0)+1},e.prototype.mount=function(t,e,n,o){var r=h.Timing.now(),i=this.prepareRenderCleanup(e,n,null,o);if(i){var s=h.Timing.now();y.DOM.render(i,t);var a=h.Timing.now(),l=h.Timing.count(h.vdomRenderFlag);h.Timing.log(h.vdomRenderFlag,l,"cx",(s-r).toFixed(2)+"ms","vdom",(a-s).toFixed(2)+"ms")}else y.DOM.unmountComponentAtNode(t)},e.prototype.prepareRenderCleanup=function(t,n,o,r){var i=r.getChild(null,this,o,t);return e.renderInstance(i,n)},e.renderInstance=function(t,n){for(var o,r,i=h.Timing.now(),s=0,l=t.store;++s<3&&(r=l.silently(function(){o=new d.RenderingContext(n),t.explore(o),t.prepare(o)}),r&&e.optimizePrepare););r&&l.notify();var u=h.Timing.now(),c=a(t.render(o)),f=h.Timing.now();t.cleanup(o);var y=h.Timing.now(),m=h.Timing.count(h.appLoopFlag);return h.Timing.log(h.appLoopFlag,m,o.options.name||"main",(y-i).toFixed(1)+"ms","prepare",(u-i).toFixed(1),"render",(f-u).toFixed(1),"cleanup",(y-f).toFixed(1)),p.Debug.log(p.appDataFlag,l.getData()),c},e.resetCounter=function(){m=100},e}(l.Component);g.prototype.memoize=!0,g.prototype.pure=!0,g.prototype.CSS="cx",g.namespace="ui.",g.lazyInit=!0,g.optimizePrepare=!0,g.factory=function(t,e,n){throw new Error("Invalid widget type: "+t+".")}},,,,,function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.HtmlElement=e.urlAttributes=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=n(2),u=n(9),c=n(20),p=n(155),h=n(108),d=n(33),f=function(t){return 0==t.indexOf("data-")&&t.substring(5)},y=e.urlAttributes={"a.href":!0,"img.src":!0},m=e.HtmlElement=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e,n,o=this,r={text:void 0,innerHtml:void 0,tooltip:{structured:!0},attrs:{structured:!0},data:{structured:!0},style:{structured:!0},class:{structured:!0},className:{structured:!0}};this.urlAttributes=[],this.jsxAttributes&&this.jsxAttributes.forEach(function(t){y[o.tag+"."+t]&&o.urlAttributes.push(t),(n=f(t))?(o.data||(o.data={}),o.data[n]=o[t]):(n=o.isValidHtmlAttribute(t))&&!r.hasOwnProperty(n)&&(0==n.indexOf("on")?(o.events||(o.events={}),o.events[n]=o[t]):(o.attrs||(o.attrs={}),o.attrs[n]=o[t]))}),0==this.urlAttributes.length&&delete this.urlAttributes,(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[r]))},e.prototype.isValidHtmlAttribute=function(t){switch(t){case"layout":case"class":case"className":case"style":case"controller":case"outerLayout":case"items":case"children":case"visible":case"mod":case"putInto":case"contentFor":case"trimWhitespace":case"preserveWhitespace":case"plainText":case"vertical":case"memoize":case"onInit":case"onExplore":return!1;default:if(f(t))return!1}return t},e.prototype.init=function(){this.style=(0,h.parseStyle)(this.style),t.prototype.init.call(this)},e.prototype.prepareData=function(e,n){var o=n.data;this.urlAttributes&&o.attrs&&this.urlAttributes.forEach(function(t){"string"==typeof o.attrs[t]&&(o.attrs[t]=p.Url.resolve(o.attrs[t]))}),t.prototype.prepareData.call(this,e,n)},e.prototype.attachProps=function(t,e,n){Object.assign(n,this.extraProps)},e.prototype.render=function(t,e,n){var o=this;if(this.events&&!e.events){e.events={};var r=function(){var t=i;e.events[t]=function(n){return o.events[t].call(o,n,e)}};for(var i in this.events)r()}var s,a=e.data,u=e.events,c=Object.assign({key:n,className:a.classNames,style:a.style},a.attrs,u);return"undefined"!=typeof a.text?s=a.text:"string"==typeof a.innerHtml?c.dangerouslySetInnerHTML={__html:a.innerHtml}:(s=this.renderChildren(t,e),s&&Array.isArray(s)&&0==s.length&&(s=void 0)),c.children=s,this.attachProps(t,e,c),this.memoize||a.tooltip?l.VDOM.createElement(g,{key:n,tag:this.tag,props:c,instance:e}):l.VDOM.createElement.apply(l.VDOM,[this.tag,c].concat(c.children))},e}(u.PureContainer);m.prototype.tag="div";var g=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.shouldComponentUpdate=function(t){return t.instance.shouldUpdate},e.prototype.render=function(){var t=this,e=this.props,n=e.tag,o=e.props,r=e.instance,i=r.data;if(o.ref=function(e){t.el=e},i.tooltip){var s=o.onMouseLeave,a=o.onMouseMove;o.onMouseLeave=function(t){(0,c.tooltipMouseLeave)(t,r),s&&s(t)},o.onMouseMove=function(t){(0,c.tooltipMouseMove)(t,r),a&&a(t)}}return l.VDOM.createElement.apply(l.VDOM,[n,o].concat(o.children))},e.prototype.componentWillUnmount=function(){(0,c.tooltipComponentWillUnmount)(this.el,this.props.instance)},e.prototype.componentWillReceiveProps=function(t){(0,c.tooltipComponentWillReceiveProps)(this.el,t.instance)},e.prototype.componentDidMount=function(){(0,c.tooltipComponentDidMount)(this.el,this.props.instance)},e}(l.VDOM.Component),b=l.Widget.factory;l.Widget.factory=function(t,e,n){var o="undefined"==typeof t?"undefined":a(t);if("undefined"==o)return d.Console.log("Creating a widget of unknown type.",e,n),new m(Object.assign({},e,n));if("function"==o){var r=Object.assign({},e,n),i=r.children;return delete r.children,new m(s({},r,{tag:t,items:i}))}return b.call(l.Widget,t,e,n)},l.Widget.alias("html-element",m)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o={};e.Binding=function(){function t(e){n(this,t),this.path=e,this.parts=e.split(".");for(var o="return (x",r="x",i=0;i<this.parts.length;i++)r+=this.parts[i][0]>="0"&&this.parts[i][0]<="9"?"["+this.parts[i]+"]":"."+this.parts[i],o+=" && "+r;o+=")",this.value=new Function("x",o)}return t.prototype.set=function(t,e){var n=this.value(t);if(n===e)return t;for(var o=Object.assign({},t),r=o,i=0;i<this.parts.length;i++){var s=this.parts[i],a=i==this.parts.length-1?e:Object.assign({},r[s]);r[s]=a,r=a}return o},t.prototype.delete=function(t){for(var e,n=Object.assign({},t),o=n,r=0;r<this.parts.length-1;r++){e=this.parts[r];var i=Object.assign({},o[e]);o[e]=i,o=i}return e=this.parts[this.parts.length-1],o.hasOwnProperty(e)?(delete o[e],n):t},t.get=function(e){if("string"==typeof e){var n=o[e];return n?n:(n=new t(e),o[e]=n,n)}return e},t}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.PureContainer=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},a=n(2),l=n(166),u=n(32),c=n(94),p=n(182),h=e.PureContainer=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){this.preserveWhitespace&&(this.trimWhitespace=!1),t.prototype.init.call(this);var e=this.items||this.children||[];this.items=[],this.add(e),this.layout=u.Layout.create(this.layout||"default")},e.prototype.declareData=function(){var e,n=this.styled?{className:{structured:!0},class:{structured:!0},style:{structured:!0}}:{};(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[n]))},e.prototype.explore=function(e,n){this.layout.explore(e,n,this.items),t.prototype.explore.call(this,e,n)},e.prototype.prepare=function(e,n){this.layout.prepare(e,n),t.prototype.prepare.call(this,e,n)},e.prototype.render=function(t,e,n){return this.renderChildren(t,e,n)},e.prototype.cleanup=function(e,n){this.layout.cleanup(e,n),t.prototype.cleanup.call(this,e,n)},e.prototype.renderChildren=function(t,e,n){return this.layout.render(t,e,n)},e.prototype.add=function(){for(var t=this,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];n.forEach(function(e){e&&(Array.isArray(e)?e.forEach(function(e){return t.add(e)}):"string"==typeof e?(t.trimWhitespace&&(e=(0,p.innerTextTrim)(e)),e&&(t.plainText||e.indexOf("{")==-1||e.indexOf("}")==-1?t.items.push(a.Widget.create(l.StaticText,{text:e})):t.items.push(a.Widget.create(c.Text,{text:{tpl:e}})))):e.isComponent?t.items.push(e):t.add(a.Widget.create(e,t.itemDefaults)))})},e.prototype.find=function(t,e){if(e||(e={}),!t||!this.items)return[];var n=t;"string"==typeof t&&(t=function(t){return t.componentAlias==n}),t.isComponentType&&(t=function(t){return t instanceof n});for(var o=[],r=0;r<this.items.length;r++){var i=this.items[r];if(i.initialized||i.init(),t(i)&&(o.push(i),e.first))break;i.find&&o.push.apply(o,i.find(t,e))}return o},e.prototype.findFirst=function(t,e){return this.find(t,s({},e,{first:!0}))[0]},e}(a.Widget);h.prototype.trimWhitespace=!0,h.prototype.plainText=!0,h.prototype.styled=!1,a.Widget.alias("pure-container",h)},,,,,,,,,,function(t,e){"use strict";e.__esModule=!0;e.stopPropagation=function(t){return t.stopPropagation()},e.preventDefault=function(t){return t.preventDefault()}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n=b.get(t);if(n){if(n.instance==e)return n;n.destroy()}return new v(t,e)}function a(t){var e=b.get(t);e&&e.destroy()}function l(t,e,n){var o="number"==typeof t.nodeType?t:t.currentTarget;m.Debug.log(m.tooltipsFlag,"mouse-enter",o,e);var r=s(o,e);r.check(n,t)}function u(t,e){var n=t.currentTarget||t.target;m.Debug.log(m.tooltipsFlag,"mouse-leave",n,e);var o=s(n,e);o.onElementMouseLeave()}function c(t){a(t)}function p(t,e,n){var o=s(t,e);o.onComponentWillReceiveProps(n)}function h(t,e,n){var o=s(t,e);o.onComponentDidMount(n)}e.__esModule=!0,e.Tooltip=void 0;var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};e.tooltipMouseMove=l,e.tooltipMouseLeave=u,e.tooltipComponentWillUnmount=c,e.tooltipComponentWillReceiveProps=p,e.tooltipComponentDidMount=h;var f=n(2),y=n(103),m=n(28),g=e.Tooltip=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{text:void 0,title:void 0,alwaysVisible:void 0}]))},e.show=function(t,n,o,r){"string"==typeof n&&(n={items:n});var i=f.Widget.create({type:e,relatedElement:o},n);return i.open(t,i,r)},e.prototype.renderContents=function(e,n){var o=n.data,r=this.CSS,i=this.baseClass;return[f.VDOM.createElement("div",{key:"arrow-border",className:r.element(i,"arrow-border")}),f.VDOM.createElement("div",{key:"arrow-back",className:r.element(i,"arrow-fill")}),o.title&&f.VDOM.createElement("div",{key:"title",className:r.element(i,"title")},o.title),o.text].concat(t.prototype.renderContents.call(this,e,n))},e.prototype.overlayDidMount=function(e,n){var o=this;this.pipeMouseTrack&&this.pipeMouseTrack(function(t){n.mousePosition={x:t.clientX,y:t.clientY},o.updateDropdownPosition(e,n)}),t.prototype.overlayDidMount.call(this,e,n)},e.prototype.overlayWillUnmount=function(e,n){t.prototype.overlayWillUnmount.call(this,e,n),this.pipeMouseTrack&&this.pipeMouseTrack(null)},e}(y.Dropdown);f.Widget.alias("tooltip",g),g.prototype.baseClass="tooltip",g.prototype.offset=8,g.prototype.placementOrder="right up down left",g.prototype.animate=!0,g.prototype.destroyDelay=200,g.prototype.matchWidth=!1,g.prototype.trackMouse=!1;var b=new WeakMap,v=function(){function t(e,n){o(this,t),this.instance=n,this.element=e}return t.prototype.check=function(t,e){var n=this.instance,o=n.widget,r=n.data;if(o.errorTooltipsEnabled&&r.error&&(!o.suppressErrorTooltipsUntilVisited||t&&t.visited)){var i=d({},r.errorTooltip,{items:r.error,mod:"error"});this.show("error",i,r.error,e)}else r.tooltip?this.show("info",r.tooltip,r.tooltip,e):this.destroy()},t.prototype.show=function(t,e,n,o){var r=this;return this.dismiss&&this.type==t&&this.test==n?void(o&&this.trackMouse&&this.trackMouse(o)):(this.destroy(),this.type=t,this.test=n,this.mouseTrap=e.mouseTrap,this.alwaysVisible=e.alwaysVisible,this.mouseTrap&&!this.alwaysVisible&&(e=d({},e,{onMouseEnter:function(){r.mouseTrapped=!0},onMouseLeave:function(){r.destroy()}})),e.trackMouse&&(e.pipeMouseTrack=function(t){r.trackMouse=t}),this.dismiss=g.show(this.instance.store,e,this.element),b.set(this.element,this),void m.Debug.log(m.tooltipsFlag,"show",this.element,this.instance))},t.prototype.onElementMouseLeave=function(){var t=this;this.mouseTrap?setTimeout(function(){t.mouseTrapped||t.destroy()},200):this.alwaysVisible||this.destroy()},t.prototype.onComponentWillReceiveProps=function(t){var e=this.instance.data;(this.dismiss||e.tooltip&&e.tooltip.alwaysVisible||e.error&&e.errorTooltip&&e.errorTooltip.alwaysVisible)&&this.check(t)},t.prototype.onComponentDidMount=function(t){var e=this.instance.data;(e.tooltip&&e.tooltip.alwaysVisible||e.error&&e.errorTooltip&&e.errorTooltip.alwaysVisible)&&this.check(t)},t.prototype.destroy=function(){this.dismiss&&(m.Debug.log(m.tooltipsFlag,"hide",this.element,this.instance),b.get(this.element)==this&&b.delete(this.element),this.dismiss(),delete this.dismiss)},t}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Button=void 0;var s=n(2),a=n(7),l=n(174),u=e.Button=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{confirm:{structured:!0}}]))},e.prototype.attachProps=function(e,n,o){var r=this;t.prototype.attachProps.call(this,e,n,o),o.type="button",delete o.confirm;var i=n.data;if(i.confirm){var s=o.onClick;o.onClick=function(t){t.stopPropagation(),l.MsgBox.yesNo(i.confirm).then(function(t){"yes"==t&&s.call(r,null)})}}},e}(a.HtmlElement);u.prototype.tag="button",u.prototype.baseClass="button",s.Widget.alias("button",u)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){if(p.length)return p.pop();var t=String(c++);return t}function i(t,e){h[t]===e&&(p.push(t),delete h[t])}function s(t,e,n){t.oneFocusOut||(t.oneFocusOut=y.oneFocusOut(e,function(e){delete t.oneFocusOut,n(e)}))}function a(t){t.oneFocusOut&&(t.oneFocusOut(),delete t.oneFocusOut)}e.__esModule=!0,e.FocusManager=void 0,e.oneFocusOut=s,e.offFocusOut=a;var l,u=n(24),c=1,p=[],h={},d=null,f=!1,y=e.FocusManager=function(){function t(){o(this,t)}return t.subscribe=function(t){var e=r();return h[e]=t,function(){i(e,t)}},t.onFocusOut=function(t,e){var n=(0,u.isSelfOrDescendant)(t,document.activeElement);if(!t)throw new Error("FocusManager.onFocusOut expects a valid DOM element.");return this.subscribe(function(o){n?(0,u.isSelfOrDescendant)(t,o)||(n=!1,e(o)):n=(0,u.isSelfOrDescendant)(t,document.activeElement)})},t.oneFocusOut=function(t,e){this.nudge();var n=this.subscribe(function(o){(0,u.isSelfOrDescendant)(t,o)||(e(o),n())});return n},t.nudge=function(){document.activeElement!=d&&(f||(f=!0,setTimeout(function(){f=!1,document.activeElement!=d&&(d=document.activeElement,Object.keys(h).forEach(function(t){var e=h[t];e&&e(d)}))},0)))},t.focus=function(t){t.focus(),this.nudge()},t.focusFirst=function(t){var e=(0,u.findFirst)(t,u.isFocusable);return e&&this.focus(e),e},t.setInterval=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){clearInterval(l),l=setInterval(this.nudge,t)}),t}();y.setInterval(300)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.TextField=void 0;var s=n(2),a=n(31),l=n(20),u=n(19),c=n(40),p=e.TextField=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{value:null,disabled:void 0,readOnly:void 0,enabled:void 0,placeholder:void 0,required:void 0,minLength:void 0,maxLength:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.renderInput=function(t,e,n){return s.VDOM.createElement(h,{key:n,instance:e})},e.prototype.validate=function(e,n){t.prototype.validate.call(this,e,n);var o=n.data;!o.error&&this.validationRegExp&&(this.validationRegExp.test(o.value)||(o.error=this.validationErrorText)),!o.error&&o.value&&("string"==typeof o.value&&null!=o.minLength&&o.value.length<o.minLength?o.error=c.StringTemplate.format(this.minLengthValidationErrorText,o.minLength,o.value.length):"string"==typeof o.value&&null!=o.maxLength&&o.value.length>o.maxLength&&(o.error=c.StringTemplate.format(this.maxLengthValidationErrorText,o.maxLength,o.value.length)))},e}(a.Field);p.prototype.baseClass="textfield",p.prototype.reactOn="input",p.prototype.inputType="text",p.prototype.validationErrorText="The entered value is not valid.",p.prototype.minLengthValidationErrorText="Please enter {[{0}-{1}]} more character(s).",p.prototype.maxLengthValidationErrorText="The entered text is longer than the maximum allowed {0} characters.",p.prototype.suppressErrorTooltipsUntilVisited=!0;var h=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n));return i.state={visited:n.instance.data.visited},i}return i(e,t),e.prototype.shouldComponentUpdate=function(t,e){return t.instance.shouldUpdate||e!=this.state},e.prototype.render=function(){var t=this,e=this.props.instance,n=e.data,o=e.widget,r=o.CSS,i=o.baseClass;return s.VDOM.createElement("div",{className:r.expand(n.classNames,r.state({visited:this.state.visited})),style:n.style,onMouseDown:u.stopPropagation,onTouchStart:u.stopPropagation},s.VDOM.createElement("input",{ref:function(e){t.input=e},className:r.element(i,"input"),defaultValue:n.value,id:n.id,style:n.inputStyle,type:o.inputType,disabled:n.disabled,readOnly:n.readOnly,placeholder:n.placeholder,onMouseMove:this.onMouseMove.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onInput:function(e){return t.onChange(e,"input")},onChange:function(e){return t.onChange(e,"change")},onKeyDown:this.onKeyDown.bind(this),onBlur:function(e){t.onChange(e,"blur")},onClick:u.stopPropagation}))},e.prototype.shouldComponentUpdate=function(t,e){return t.instance.shouldUpdate!==!1||this.state!=e},e.prototype.onMouseMove=function(t){(0,l.tooltipMouseMove)(t,this.props.instance,this.state)},e.prototype.onMouseLeave=function(t){(0,l.tooltipMouseLeave)(t,this.props.instance)},e.prototype.componentWillUnmount=function(){(0,l.tooltipComponentWillUnmount)(this.input)},e.prototype.componentDidMount=function(){(0,l.tooltipComponentDidMount)(this.input,this.props.instance,this.state),this.props.instance.data.autoFocus&&this.input.focus()},e.prototype.onKeyDown=function(t){switch(t.keyCode){case 13:this.onChange(t,"enter");break;case 37:case 39:t.stopPropagation()}},e.prototype.componentWillReceiveProps=function(t){var e=t.instance.data;e.value!=this.input.value&&(this.input.value=e.value||""),e.visited&&this.setState({visited:!0}),(0,l.tooltipComponentWillReceiveProps)(this.input,t.instance,this.state)},e.prototype.onChange=function(t,e){"blur"==e&&this.setState({visited:!0});var n=this.props.instance,o=n.widget,r=n.data;if(o.reactOn.indexOf(e)!=-1){var i=t.target.value;null!=r.maxLength&&i.length>r.maxLength&&(i=i.substring(0,r.maxLength),this.input.value=i),n.set("value",i||null)}},e}(s.VDOM.Component);s.Widget.alias("textfield",p)},function(t,e){"use strict";function n(t,e){if(e(t))return t;var o=t.childNodes;if(o)for(var r=0;r<o.length;r++){var i=n(o[r],e);if(i)return i}return null}function o(t,e){var o=t.childNodes;if(o)for(var r=0;r<o.length;r++){var i=n(o[r],e);if(i)return i}return null}function r(t,e){for(;t;){if(e(t))return t;t=t.parentElement}return null}function i(t,e){return t&&r(t.parentElement,e)}function s(t){return document.activeElement==t}function a(t){return document.activeElement==t||t.contains(document.activeElement)}function l(t){var e=t&&"number"==typeof t.tabIndex&&t.tabIndex>=0;return!!e&&(h.indexOf(t.tagName)!=-1||t.hasAttribute("tabindex"))}function u(){return document.activeElement}function c(t,e){return t.contains(e)}function p(t,e){return t==e||t.contains(e)}e.__esModule=!0,e.findFirst=n,e.findFirstChild=o,e.closest=r,e.closestParent=i,e.isFocused=s,e.isFocusedDeep=a,e.isFocusable=l,e.getFocusedElement=u,e.isDescendant=c,e.isSelfOrDescendant=p;var h=["INPUT","SELECT","TEXTAREA","A","BUTTON"]},,,,function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.deprecatedFlag=e.tooltipsFlag=e.appDataFlag=e.shouldUpdateFlag=e.internalFlag=e.focusFlag=e.menuFlag=e.cleanupFlag=e.processDataFlag=e.prepareFlag=e.renderFlag=e.Debug=void 0;var r=n(33),i={deprecated:!0},s="production";e.Debug=function(){function t(){o(this,t)}return t.enable=function(t){i[t]=!0},t.disable=function(t){i[t]=!1},t.log=function(t){if("production"!=s){if(!i[t])return;r.Console.log.apply(r.Console,arguments)}},t}(),e.renderFlag="render",e.prepareFlag="prepare",e.processDataFlag="process-data",e.cleanupFlag="cleanup",e.menuFlag="menu",e.focusFlag="focus",e.internalFlag="internal",e.shouldUpdateFlag="should-update",e.appDataFlag="app-data",e.tooltipsFlag="tooltips",e.deprecatedFlag="deprecated"},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={},i=function(){function t(e){n(this,t),Object.assign(this,e)}return t.prototype.init=function(){},t.alias=function(t,e){var n=this;return e?(e.prototype.componentAlias=t,void(r[this.namespace+t]=e)):function(e){return n.alias(t,e),e}},t.create=function(t,e,n){var i=this;if(!t)return this.factory(t,e,n);if(t.isComponent)return t;if(Array.isArray(t))return t.map(function(t){return i.create(t,e,n)});if(t.$type)return this.create(t.$type,t,e);if(t.type)return this.create(t.type,t,e);var s;if(t.isComponentType)s=t;else{var a=this.namespace+t,s=r[a];if(!s){if("object"==("undefined"==typeof t?"undefined":o(t))){var l=Object.assign({},t,e,n);if(l.$type||l.type)return this.create(l)}if(t&&this.factory)return this.factory(t,e,n);throw new Error("Unknown component alias "+a+".")}}if(Array.isArray(e))return e.map(function(t){return i.create(s,t,n)});var u=e;n&&(u=Object.assign({},e,n));var c=new s(u);return this.lazyInit||c.init(),c},t}();e.Component=i,i.isComponentType=!0,i.prototype.isComponent=!0,i.namespace="",i.lazyInit=!1,i.factory=function(t,e,n){throw new Error("Unknown component alias "+t+".")}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Repeater=void 0;var s=n(2),a=n(9),l=n(98),u=n(8),c=(n(88),e.Repeater=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.records&&this.records.bind&&(this.recordsBinding=u.Binding.get(this.records.bind)),this.adapter=l.ArrayAdapter.create(l.ArrayAdapter,{recordName:this.recordName,indexName:this.indexName,keyField:this.keyField})},e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{records:void 0,sorters:void 0,filterParams:{structured:!0}}].concat(Array.prototype.slice.call(arguments)))},e.prototype.prepareData=function(e,n){var o=this;t.prototype.prepareData.call(this,e,n),n.repeatable||!function(){var t=n.data;o.adapter.sort(t.sorters),o.adapter.setFilter(o.filter&&function(e){return o.filter(e,t.filterParams)}),n.mappedRecords=o.adapter.mapRecords(e,n,t.records,n.store,o.recordsBinding)}()},e.prototype.explore=function(e,n,o){var r=this;if(n.repeatable)return t.prototype.explore.call(this,e,n);var i=[];n.mappedRecords.forEach(function(t){var o=n.getChild(e,r,t.key+":",t.store);o.repeatable=!0,o.record=t,r.cached&&o.cached&&o.cached.record&&o.cached.record.data==t.data?(i.push(o),o.shouldUpdate=!1):o.explore(e)&&i.push(o)}),n.instances=i},e.prototype.prepare=function(e,n){return n.repeatable?t.prototype.prepare.call(this,e,n):void n.instances.forEach(function(t){t.prepare(e),t.shouldUpdate&&(n.shouldUpdate=!0)})},e.prototype.render=function(e,n,o){return n.repeatable?t.prototype.render.call(this,e,n,o):n.instances.map(function(t){return t.render(e,o+":"+t.record.key)})},e.prototype.cleanup=function(e,n){return n.repeatable?(n.cached.record=n.record,void t.prototype.cleanup.call(this,e,n)):void n.instances.forEach(function(t){return t.cleanup(e)})},e.prototype.add=function(e){"string"!=typeof e&&t.prototype.add.call(this,e)},e}(a.PureContainer));c.prototype.recordName="$record",c.prototype.indexName="$index",c.prototype.cached=!1,s.Widget.alias("repeater",c)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Field=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},a=n(2),l=n(9),u=n(95),c=n(19),p=n(90),h=n(93),d=n(184),f=e.Field=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{label:void 0,labelWidth:void 0,mode:void 0,id:void 0,error:void 0,class:{structured:!0},className:{structured:!0},inputStyle:{structured:!0},style:{structured:!0},tooltip:{structured:!0},emptyText:void 0,errorTooltip:{structured:!0},visited:void 0,autoFocus:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.init=function(){if(null!=this.help&&(this.help=a.Widget.create(l.PureContainer,{items:this.help})),null!=this.label){var e={type:u.Label,required:this.required,asterisk:this.asterisk};this.label.isComponentType?e=this.label:(0,p.isSelector)(this.label)?e.text=this.label:Object.assign(e,this.label),this.label=a.Widget.create(e)}t.prototype.init.call(this)},e.prototype.initComponents=function(e,n){var o;return(o=t.prototype.initComponents).call.apply(o,[this].concat(Array.prototype.slice.call(arguments),[{label:this.label,help:this.help}]))},e.prototype.initState=function(t,e){e.state={inputError:!1}},e.prototype.prepareData=function(e,n){var o,r=n.data;r.id||(r.id="fld-"+n.id),"undefined"!=typeof r.enabled&&(r.disabled=!r.enabled),r.error||r.disabled||this.validate(e,n),r.stateMods=s({},r.stateMods,{error:r.error,disabled:r.disabled}),r.stateMods[(r.mode||"edit")+"-mode"]=!0,r.inputStyle=this.CSS.parseStyle(r.inputStyle),(o=t.prototype.prepareData).call.apply(o,[this].concat(Array.prototype.slice.call(arguments)))},e.prototype.explore=function(e,n){var o=n.data;o.error&&e.validation&&e.validation.errors.push({fieldId:o.id,message:o.error,type:"error"}),e.lastFieldId=o.id,t.prototype.explore.call(this,e,n),delete e.lastFieldId},e.prototype.validateRequired=function(t,e){var n=e.data;if(null==n.value)return this.requiredText},e.prototype.validate=function(t,e){var n=this,o=e.data,r=e.state;if(r=r||{},o.error||(r.validating?o.error=this.validatingText:o.required&&(o.error=this.validateRequired(t,e))),!o.error&&null!=o.value&&this.onValidate&&!r.validating&&o.value!=r.lastValidatedValue){var i=this.onValidate(o.value,e);(0,d.isPromise)(i)?(o.error=this.validatingText,e.setState({validating:!0,lastValidatedValue:o.value}),i.then(function(t){e.setState({validating:!1,inputError:t})}).catch(function(t){e.setState({validating:!1,inputError:"Validation thrown an exception."}),n.onValidationException&&n.onValidationException(t,e)})):o.error=i}!o.error&&r.inputError&&(o.error=r.inputError)},e.prototype.renderLabel=function(t,e,n){if(e.components.label)return e.components.label.render(t,n)},e.prototype.renderInput=function(t,e,n){throw new Error("Not implemented.")},e.prototype.renderHelp=function(t,e,n){if(e.components.help)return e.components.help.render(t,n)},e.prototype.formatValue=function(t,e){var n=e.data;return n.text||n.value},e.prototype.renderValue=function(t,e,n){var o=this.formatValue(t,e);if(o)return a.VDOM.createElement("span",null,o)},e.prototype.renderContent=function(t,e,n){var o=this.renderValue.apply(this,arguments)||this.renderEmptyText.apply(this,arguments);return this.renderWrap(t,e,n,o)},e.prototype.renderWrap=function(t,e,n,o){var r=e.data;return a.VDOM.createElement("div",{key:n,className:r.classNames,style:r.style,onMouseDown:c.stopPropagation,onTouchStart:c.stopPropagation},o)},e.prototype.renderEmptyText=function(t,e,n){var o=e.data;return a.VDOM.createElement("span",{key:n,className:this.CSS.element(this.baseClass,"empty-text")},o.emptyText||a.VDOM.createElement("span",null,"Â "))},e.prototype.render=function(t,e,n){var o=e.data,r="view"!=o.mode?this.renderInput(t,e,n+"input"):this.renderContent(t,e,n+"content");return{label:this.renderLabel(t,e,n),content:r,helpSpacer:this.helpSpacer&&e.components.help?" ":null,help:this.renderHelp(t,e,n)}},e}(l.PureContainer);f.prototype.errorTooltipsEnabled=!0,f.prototype.visited=!1,f.prototype.suppressErrorTooltipsUntilVisited=!1,f.prototype.requiredText="This field is required.",f.prototype.autoFocus=!1,f.prototype.asterisk=!1,f.prototype.validatingText="Validation is in progress...",f.prototype.helpSpacer=!0,h.Localization.registerPrototype("Cx.ui.form.Field",f)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Layout=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(29),l=n(2),u=n(51),c=e.Layout=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this),"string"==typeof this.CSS&&(this.CSS=u.CSSHelper.get(this.CSS))},e.prototype.explore=function(t,e,n){e.children=[];for(var o=!e.shouldUpdate&&null!=e.cached.children,r=0;r<n.length;r++){var i=e.getChild(t,n[r]);i.explore(t),i.visible&&(o&&e.cached.children[e.children.length]!==i&&(o=!1),e.children.push(i))}o&&e.children.length==e.cached.children.length||(e.shouldUpdate=!0)},e.prototype.prepare=function(t,e){for(var n=0;n<e.children.length;n++)e.children[n].prepare(t)},e.prototype.append=function(t,e){if("object"==("undefined"==typeof e?"undefined":s(e))&&e){var n=!0;for(var o in e)(0,l.contentAppend)(t,e[o],!n)&&(n=!1)}else(0,l.contentAppend)(t,e)},e.prototype.render=function(t,e,n){for(var o,r,i=this,s=[],a=0;a<e.children.length;a++)o=e.children[a],r=o.render(t,n),o.widget.layout&&o.widget.layout.useParentLayout&&Array.isArray(r.content)?r.content.forEach(function(t){return i.append(s,t)}):this.append(s,r);return s},e.prototype.cleanup=function(t,e){for(var n=0;n<e.children.length;n++)e.children[n].cleanup(t);e.cached.children=e.children},e}(a.Component);c.prototype.CSS="cx",c.namespace="ui.layout.",c.alias("default",c)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;e.Console=function(){function t(){n(this,t)}return t.log=function(){var t;window&&window.console&&(t=console).log.apply(t,arguments)},t.warn=function(){var t;window&&window.console&&(t=console).warn.apply(t,arguments)},t}()},,,,,,,function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return t.length?t+" + ":t}function i(t){var e=l[t];if(e)return e;e="";for(var n,o,i=-1,u=0,c=0,p=0;p<t.length;p++){var h=t[p];switch(h){case"{":i<0?"{"==t[p+1]&&"%"!=t[p-1]?(e=r(e)+(0,a.quoteStr)(t.substring(u,p)+"{"),p++,u=p+1):(i=p+1,o="%"==t[p-1],p>u&&(e=r(e)+(0,a.quoteStr)(t.substring(u,o?p-1:p))),c=1):c++;break;case"}":i>=0?0==--c&&(n=t.substring(i,p),n.indexOf(":")==-1&&(n+=":s"),e=r(e)+(o?"%{":"{")+n+"}",i=-1,u=p+1,c=0):"}"==t[p+1]&&(e=r(e)+(0,a.quoteStr)(t.substring(u,p)+"}"),p++,u=p+1)}}return u<t.length&&(e=r(e)+(0,a.quoteStr)(t.substring(u))),l[t]=(0,s.expression)(e)}e.__esModule=!0,e.StringTemplate=void 0,e.stringTemplate=i;var s=n(49),a=n(109),l={},u=function(){function t(){o(this,t)}return t.get=function(t){return i(t)},t.compile=function(t){return this.get(t).memoize()},t.format=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return this.get(t)(n)},t}();e.StringTemplate=u},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.View=void 0;var r=n(8);e.View=function(){function t(){o(this,t)}return t.prototype.getData=function(){throw new Error("abstract method")},t.prototype.init=function(t,e){var n=this.get(t);"undefined"==typeof n&&this.set(t,e)},t.prototype.set=function(t,e){if(this.set)return this.store.set(t,e);throw new Error("abstract method")},t.prototype.delete=function(t){if(this.store)return this.store.delete(t);throw new Error("abstract method")},t.prototype.clear=function(){if(this.store)return this.store.clear();throw new Error("abstract method")},t.prototype.get=function(t){return r.Binding.get(t).value(this.getData())},t.prototype.toggle=function(t){this.set(t,!this.get(t))},t.prototype.update=function(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];this.set(t,e.apply(null,[this.get(t)].concat(o)))},t.prototype.batch=function(t){this.notificationsSuspended=(this.notificationsSuspended||0)+1;try{t(this)}finally{this.notificationsSuspended--,this.dirty&&(this.dirty=!1,this.notify())}},t.prototype.silently=function(t){this.notificationsSuspended=(this.notificationsSuspended||0)+1;var e,n=this.dirty;this.dirty=!1;try{t(this)}finally{this.notificationsSuspended--,e=this.dirty,this.dirty=n}return e},t.prototype.notify=function(t){this.notificationsSuspended?this.dirty=!0:this.doNotify(t)},t.prototype.doNotify=function(t){if(this.store)return this.store.notify(t);throw new Error("abstract method")},t.prototype.subscribe=function(t){if(this.store)return this.store.subscribe(t);throw new Error("abstract method")},t.prototype.load=function(t){this.batch(function(e){for(var n in t)e.set(n,t[n])})},t.prototype.dispatch=function(t){if(this.store)return this.store.dispatch(path);throw new Error("The underlying store doesn't support dispatch.")},t}()},,,,,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Md=void 0;var a=n(113),l=o(a),u=n(144),c=n(7),p=e.Md=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{source:void 0}]))},e.prototype.prepareData=function(e,n){var o=n.data;(o.source||this.content)&&(o.source=(0,u.removeCommonIndent)(o.source||this.content),o.innerHtml=(0,l.default)(o.source)),t.prototype.prepareData.call(this,e,n)},e.prototype.isValidHtmlAttribute=function(e){return"source"!=e&&t.prototype.isValidHtmlAttribute.call(this,e)},e.prototype.add=function(t){var e=this;Array.isArray(t)&&t.forEach(function(t){return e.add(t)}),"string"==typeof t&&(this.content+=t)},e}(c.HtmlElement);p.prototype.trimWhitespace=!1,p.prototype.content=""},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function expression(t){var e,n=expCache[t];if(n)return n;for(var o,r=!1,i=-1,s=0,a=["return ("],l=[],u=[],c=0,p=0;p<t.length;p++){var h=t[p];switch(h){case"{":s>0?s++:!r&&i<0&&("{"!=t[p+1]||"%"==t[p-1])?(i=p+1,s=1,o="%"==t[p-1],o&&a.pop()):"{"!=t[p-1]&&a.push(h);break;case"}":if(i>=0){if(0==--s){var d=t.substring(i,p),f=d.indexOf(":"),y=f==-1?d:d.substring(0,f),m=f==-1?null:d.substring(f+1),g=y.replace(/\./g,"_");if((0,_isDigit.isDigit)(g[0])&&(g="$"+g),o||"["==y[0]&&"]"==y[y.length-1]?(g="expr"+ ++c,l[g]=expression(o?y:y.substring(1,y.length-1))):l[g]=y,m){var b="fmt"+u.length;a.push(b,"(",g,", ",(0,_quote.quoteStr)(m),")"),u.push(_Format.Format.parse(m))}else a.push(g);i=-1}}else a.push(h);break;case'"':case"'":r?"\\"!=t[p-1]&&r==h&&(r=!1):r=h,a.push(h);break;default:i<0&&a.push(h)}}a.push(")");var v=a.join("");Expression.expandFatArrows&&(v=(0,_expandFatArrows.expandFatArrows)(v));var w=Object.keys(l),x=(e=new(Function.prototype.bind.apply(Function,[null].concat(u.map(function(t,e){return"fmt"+e}),w,helperNames,[v])))).bind.apply(e,[_Format.Format].concat(u,helperValues)),k=_computable.computable.apply(void 0,w.map(function(t){return l[t]}).concat([x]));return expCache[t]=k,k}exports.__esModule=!0,exports.Expression=void 0,exports.expression=expression;var _computable=__webpack_require__(89),_Format=__webpack_require__(105),_quote=__webpack_require__(109),_isDigit=__webpack_require__(183),_expandFatArrows=__webpack_require__(181),expCache={},helpers={},helperNames=[],helperValues=[],Expression=exports.Expression=function(){function t(){_classCallCheck(this,t)}return t.get=function(t){return expression(t)},t.compile=function(t){return this.get(t).memoize()},t.registerHelper=function(t,e){helpers[t]=e,helperNames=Object.keys(helpers),helperValues=helperNames.map(function(t){return helpers[t]})},t}();Expression.expandFatArrows=!0;try{5===eval("(() => 5)()")&&(Expression.expandFatArrows=!1)}catch(t){}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.ReadOnlyDataView=void 0;var s=n(41);e.ReadOnlyDataView=function(t){function e(n,i){o(this,e);var s=r(this,t.call(this));return s.store=n,s.data=i,s}return i(e,t),e.prototype.getData=function(){var t=this.store.getData();return Object.assign({},t,this.data)},e.prototype.setStore=function(t){this.store=t},e.prototype.setData=function(t){this.data=t},e}(s.View)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o={};e.CSSHelper=function(){function t(){n(this,t)}return t.get=function(t){var e=o[t];if(!e)throw new Error("Unknown CSS helper '"+t+"'.");return e},t.register=function(t,e){o[t]=e},t.alias=function(t,e){o[t]=e},t}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Controller=void 0;var s=n(89),a=(n(8),n(29)),l=e.Controller=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.prepare=function(t){var e=this.instance.store;if(this.store=e,this.initialized||(this.init(),this.initialized=!0),this.computables)for(var n in this.computables)e.set(n,this.computables[n](e.getData()));if(this.triggers)for(var n in this.triggers)this.triggers[n](e.getData())},e.prototype.cleanup=function(t){},e.prototype.addComputable=function(t,e,n){if(!Array.isArray(e))throw new Error("Second argument to the addComputable method should be an array.");var o=s.computable.apply(void 0,e.concat([n])).memoize();this.computables||(this.computables={}),this.computables[t]=o},e.prototype.addTrigger=function(t,e,n,o){if(!Array.isArray(e))throw new Error("Second argument to the addComputable method should be an array.");var r=s.computable.apply(void 0,e.concat([n])).memoize(!1,!o&&this.store.getData());this.triggers||(this.triggers={}),this.triggers[t]=r},e.prototype.removeTrigger=function(t){this.triggers&&delete this.triggers[t]},e}(a.Component);l.namespace="ui.controller.",l.lazyInit=!0},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.List=void 0;var s=n(2),a=n(9),l=n(98),u=n(8),c=n(178),p=n(57),h=n(185),d=n(22),f=e.List=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){this.adapter=l.ArrayAdapter.create(this.adapter||l.ArrayAdapter,{recordName:this.recordName,indexName:this.indexName,recordsBinding:this.records&&this.records.bind&&u.Binding.get(this.records.bind)}),this.child=s.Widget.create({type:a.PureContainer,layout:this.layout,children:this.children,styled:!0,class:this.itemClass,className:this.itemClassName,style:this.itemStyle}),delete this.children,this.selection=c.Selection.create(this.selection,{records:this.records}),t.prototype.init.call(this)},e.prototype.declareData=function(){var e,n=this.selection.configureWidget(this);(e=t.prototype.declareData).call.apply(e,[this,n,{records:void 0,sorters:void 0,filterParams:{structured:!0},style:{structured:!0},itemStyle:{structured:!0},class:{structured:!0},className:{structured:!0},emptyText:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.prepareData=function(e,n){var o=this,r=n.data;this.adapter.sort(r.sorters),this.adapter.setFilter(this.filter&&function(t){return o.filter(t,r.filterParams)}),n.mappedRecords=this.adapter.getRecords(e,n,r.records,n.store),r.stateMods=Object.assign(r.stateMods||{},{selectable:!this.selection.isDummy||this.onItemClick,empty:0==n.mappedRecords.length}),t.prototype.prepareData.call(this,e,n)},e.prototype.explore=function(t,e,n){var o=this,r=[],i=this.selection.getIsSelectedDelegate(e.store);e.mappedRecords.forEach(function(n){var s=e.getChild(t,o.child,n.key+":",n.store);s.record=n,s.explore(t)&&r.push(s);var a=i(n.data,n.index);s.selected!=a&&(s.selected=a,s.shouldUpdate=!0)}),e.instances=r},e.prototype.prepare=function(t,e){e.instances.forEach(function(e){return e.prepare(t)})},e.prototype.render=function(t,e,n){var o=e.instances.map(function(e){return{instance:e,key:e.record.key,content:(0,s.getContent)(e.render(t))}});return s.VDOM.createElement(y,{key:n,instance:e,items:o,selectable:!this.selection.isDummy||this.onItemClick})},e.prototype.cleanup=function(t,e){e.instances.forEach(function(e){return e.cleanup(t)})},e}(s.Widget);f.prototype.recordName="$record",f.prototype.indexName="$index",f.prototype.baseClass="list",f.prototype.focusable=!0,f.prototype.focused=!1,f.prototype.itemPad=!0,s.Widget.alias("list",f);var y=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n)),s=n.instance.widget.focused;return i.state={cursor:s&&n.selectable?0:-1,focused:s},i}return i(e,t),e.prototype.shouldComponentUpdate=function(t,e){return t.instance.shouldUpdate||e!=this.state},e.prototype.componentDidMount=function(){var t=this.props.instance,e=t.widget;e.pipeKeyDown&&e.pipeKeyDown(this.handleKeyDown.bind(this),this.props.instance)},e.prototype.componentWillReceiveProps=function(t){this.setState({cursor:Math.max(Math.min(this.state.cursor,t.items.length-1),this.state.focused?0:-1)})},e.prototype.componentWillUnmount=function(){var t=this.props.instance,e=t.widget;(0,d.offFocusOut)(this),e.pipeKeyDown&&e.pipeKeyDown(null,t)},e.prototype.render=function(){var t=this,e=this.props,n=e.instance,o=e.items,r=e.selectable,i=n.data,a=n.widget,l=a.CSS,u=a.baseClass,c=l.parseStyle(i.itemStyle),p=o.length>0&&o.map(function(e,n){var o=e.instance,r=o.data,i=o.selected,p=l.element(u,"item",{selected:i,cursor:n==t.state.cursor,pad:a.itemPad});return s.VDOM.createElement("li",{key:e.key,className:l.expand(p,r.classNames),style:c,onClick:function(n){return t.handleItemClick(n,e.instance)},onMouseEnter:function(e){t.moveCursor(n)}},e.content)});return!p&&i.emptyText&&(p=s.VDOM.createElement("li",{className:l.element(u,"empty-text")},i.emptyText)),s.VDOM.createElement("ul",{ref:function(e){t.el=e},className:l.expand(i.classNames,l.state({focused:this.state.focused})),style:i.style,tabIndex:a.focusable&&r&&o.length>0?0:null,onKeyDown:this.handleKeyDown.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)},p)},e.prototype.moveCursor=function(t,e,n){var o=this;this.props.selectable&&(null!=e&&this.state.focused!=e&&this.setState({focused:e||this.props.instance.widget.focused}),this.setState({cursor:t},function(){if(n){var e=o.el.children[t];(0,h.scrollElementIntoView)(e)}}))},e.prototype.showCursor=function(t){if(this.state.cursor==-1){var e=this.props.items.findIndex(function(t){return t.instance.selected});this.moveCursor(e!=-1?e:0,t)}},e.prototype.onFocus=function(){var t=this;d.FocusManager.nudge(),this.showCursor(!0);var e=this.props.instance.widget;e.focused||(0,d.oneFocusOut)(this,this.el,function(){t.moveCursor(-1,!1)}),this.setState({focused:!0})},e.prototype.onBlur=function(){d.FocusManager.nudge()},e.prototype.handleMouseLeave=function(){this.state.focused||this.moveCursor(-1)},e.prototype.handleItemClick=function(t,e){t.stopPropagation();var n=this.props.instance.widget;if((!n.onItemClick||n.onItemClick(t,e)!==!1)&&this.props.selectable){var o=e.store,r=e.record,i=r.data,s=r.index;n.selection.select(o,i,s,{toggle:t.ctrlKey})}},e.prototype.handleKeyDown=function(t){var e=this.props,n=e.instance,o=e.items;if(!this.onKeyDown||this.onKeyDown(t,n)!==!1)switch(t.keyCode){case p.KeyCode.enter:var r=o[this.state.cursor];r&&this.handleItemClick(t,r.instance);break;case p.KeyCode.down:this.state.cursor+1<o.length&&(this.moveCursor(this.state.cursor+1,!0,!0),t.stopPropagation(),t.preventDefault());break;case p.KeyCode.up:this.state.cursor>0&&(this.moveCursor(this.state.cursor-1,!0,!0),t.stopPropagation(),t.preventDefault())}},e}(s.VDOM.Component)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.TextArea=void 0;var s=n(2),a=n(23),l=n(20),u=n(19),c=e.TextArea=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{rows:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.renderInput=function(t,e,n){var o=this;return s.VDOM.createElement(p,{key:n,data:e.data,instance:e,handleChange:function(t,n){return o.handleChange(t,n,e)}})},e.prototype.handleChange=function(t,e,n){this.reactOn.indexOf(e)!=-1&&n.set("value",t.target.value||null)},e}(a.TextField);c.prototype.baseClass="textarea",c.prototype.reactOn="blur",c.prototype.suppressErrorTooltipsUntilVisited=!0;var p=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n));return i.state={visited:n.instance.data.visited},i}return i(e,t),e.prototype.render=function(){var t=this,e=this.props.instance,n=e.widget,o=e.data,r=n.CSS,i=n.baseClass;return s.VDOM.createElement("div",{className:r.expand(o.classNames,r.state({visited:this.state.visited})),style:o.style,onMouseDown:u.stopPropagation,onTouchStart:u.stopPropagation},s.VDOM.createElement("textarea",{className:r.element(i,"input"),ref:function(e){t.input=e},id:o.id,rows:o.rows,style:o.inputStyle,defaultValue:o.value,disabled:o.disabled,readOnly:o.readOnly,placeholder:o.placeholder,onInput:function(e){return t.onChange(e,"input")},onChange:function(e){return t.onChange(e,"change")},onBlur:function(e){t.onChange(e,"blur")},onClick:u.stopPropagation,onMouseMove:function(n){return(0,l.tooltipMouseMove)(n,e,t.state)},onMouseLeave:function(t){return(0,l.tooltipMouseLeave)(t,e)}}))},e.prototype.shouldComponentUpdate=function(t,e){return t.instance.shouldUpdate!==!1||this.state!=e},e.prototype.componentWillUnmount=function(){(0,l.tooltipComponentWillUnmount)(this.input)},e.prototype.componentDidMount=function(){(0,l.tooltipComponentDidMount)(this.input,this.props.instance,this.state),this.props.instance.data.autoFocus&&this.input.focus()},e.prototype.onKeyDown=function(t){switch(t.keyCode){case 13:this.onChange(t,"enter");break;case 37:case 39:t.stopPropagation()}},e.prototype.componentWillReceiveProps=function(t){var e=t.instance.data;e.value!=this.input.value&&(this.input.value=e.value||""),e.visited&&this.setState({visited:!0}),(0,l.tooltipComponentWillReceiveProps)(this.input,t.instance,this.state)},e.prototype.onChange=function(t,e){"blur"==e&&this.setState({visited:!0}),this.props.handleChange(t,e)},e}(s.VDOM.Component);s.Widget.alias("textarea",c)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Menu=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},l=n(2),u=n(7),c=n(24),p=n(57),h=n(28),d=n(22),f=e.Menu=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.prepareData=function(e,n){var o=n.data;o.stateMods=a({},o.stateMods,{horizontal:this.horizontal}),t.prototype.prepareData.call(this,e,n)},e.prototype.prepare=function(e,n){var o=e.lastMenu;e.lastMenu=this,t.prototype.prepare.call(this,e,n),e.lastMenu=o},e.prototype.render=function(t,e,n){return l.VDOM.createElement(y,{key:n,instance:e},this.renderChildren(t,e))},e}(u.HtmlElement);f.prototype.horizontal=!1;var y=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n));return i.state={cursor:null},i}return i(e,t),e.prototype.render=function(){var t=this,e=this.props.instance.data;return this.itemInfo=Array.from({length:this.props.children.length}),l.VDOM.createElement("ul",{ref:function(e){t.el=e},className:e.classNames,style:e.style,onFocus:this.onFocus.bind(this),onBlur:d.FocusManager.nudge(),onKeyDown:this.onKeyDown.bind(this)},this.props.children.map(function(e,n){var o=e&&"object"==("undefined"==typeof e?"undefined":s(e))&&e.key?e.key:n;return l.VDOM.createElement(m,{key:o,cursor:o===t.state.cursor,instance:t.props.instance,itemInfo:t.itemInfo,itemKey:o,itemIndex:n,moveCursor:t.moveCursor.bind(t)},e)}))},e.prototype.moveCursor=function(t){t!=this.state.cursor&&(h.Debug.log(h.menuFlag,"Menu","moveCursor",t),this.setState({cursor:t}))},e.prototype.onKeyDown=function(t){var e=this,n=this.props.instance,o=n.widget;if(!o.onKeyDown||o.onKeyDown(t,n)!==!1){var r=t.keyCode;h.Debug.log(h.menuFlag,"Menu","keyDown",this.el,r);var i=o.horizontal;if(r==p.KeyCode.tab&&(r=i?t.shiftKey?p.KeyCode.left:p.KeyCode.up:t.shiftKey?p.KeyCode.right:p.KeyCode.down),null!=this.state.cursor){var s=this.itemInfo.findIndex(function(t){return t.key==e.state.cursor});if(i?r==p.KeyCode.left:r==p.KeyCode.up)for(var a=s-1;a>=0;a--)if(this.itemInfo[a].focusable)return d.FocusManager.focusFirst(this.itemInfo[a].el),t.stopPropagation(),void t.preventDefault();if(i?r==p.KeyCode.right:r==p.KeyCode.down)for(var a=s+1;a<this.itemInfo.length;a++)if(this.itemInfo[a].focusable)return d.FocusManager.focusFirst(this.itemInfo[a].el),t.stopPropagation(),void t.preventDefault()}switch(r){case p.KeyCode.home:this.itemInfo[0].focusable&&(d.FocusManager.focusFirst(this.itemInfo[0].el),t.stopPropagation(),t.preventDefault());break;case p.KeyCode.end:this.itemInfo[this.itemInfo.length-1].focusable&&(d.FocusManager.focusFirst(this.itemInfo[this.itemInfo.length-1].el),t.stopPropagation(),t.preventDefault())}}},e.prototype.onFocusOut=function(t){h.Debug.log(h.menuFlag,"Menu","focusout",this.el,t),(0,c.isSelfOrDescendant)(this.el,t)||this.moveCursor(null)},e.prototype.componentDidMount=function(){var t=this.props.instance.widget;t.autoFocus&&this.itemInfo.length>0&&d.FocusManager.focusFirst(this.itemInfo[0].el)},e.prototype.onFocus=function(){(0,d.oneFocusOut)(this,this.el,this.onFocusOut.bind(this))},e.prototype.componentWillUnmount=function(){(0,d.offFocusOut)(this)},e}(l.VDOM.Component);f.prototype.baseClass="menu",f.prototype.tag="ul",l.Widget.alias("menu",f);var m=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n));return i.state={focusable:!0},i}return i(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.itemInfo,o=e.itemIndex,r=e.itemKey,i=e.instance,s=e.cursor,a=i.widget,u=a.CSS,c=a.baseClass,p={cursor:s,focusable:this.state.focusable};return l.VDOM.createElement("li",{ref:function(e){t.el=e,n[o]={el:e,focusable:t.state.focusable,key:r}},className:u.element(c,"item",p),onFocus:this.onFocus.bind(this),onMouseDown:this.onMouseDown.bind(this)},l.VDOM.createElement("div",{className:u.element(c,"item-body")},this.props.children))},e.prototype.onFocus=function(t){d.FocusManager.nudge(),h.Debug.log(h.menuFlag,"MenuItem","focus",this.el,t.target),this.props.moveCursor(this.props.itemKey)},e.prototype.onMouseDown=function(t){if(t.stopPropagation(),t.preventDefault(),h.Debug.log(h.menuFlag,"MenuItem","mouseDown",this.el),this.state.focusable){var e=this.props,n=e.itemInfo,o=e.itemIndex,r=n[o].el,i=(0,c.getFocusedElement)(),s=d.FocusManager.focusFirst(r);s!=i&&h.Debug.log(h.menuFlag,"MenuItem","focusChild",s,i)}},e.prototype.componentDidMount=function(){this.componentDidUpdate()},e.prototype.componentDidUpdate=function(){var t=this.props,e=t.itemInfo,n=t.itemIndex,o=(t.cursor,null!=(0,c.findFirst)(e[n].el,c.isFocusable));o!=this.state.focusable&&(e[n].focusable=o,this.setState({focusable:o}))},e}(l.VDOM.Component)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=1;e.GlobalCacheIdentifier=function(){
function t(){n(this,t)}return t.get=function(){return o},t.change=function(){o++},t}()},function(t,e){"use strict";e.__esModule=!0;e.KeyCode={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46}},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function n(t){return t=t||7,Math.random().toString(35).substr(2,t)}t.exports=n},function(t,e,n){"use strict";function o(t,e,n,o){if(!t||1!==t.nodeType)throw new Error("First argument to startAppLoop should be a valid DOM element.");n=r.Widget.create(n),e||(e=new i.Store);var a=new s.Instance(n,"root");a.setStore(e);var l=function(){n.mount(t,e,o,a)},u=!1,c=function(){u||(requestAnimationFrame(function(){u=!1,l()}),u=!0)},p=e.subscribe(c);return l(),p}e.__esModule=!0,e.startAppLoop=o;var r=n(2),i=n(85),s=n(162)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Store=void 0;var s=n(8),a=n(41);e.Store=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var i=r(this,t.call(this));return i.data=n.data||{},i.subscriptions={},i.subscriptionKey=0,i.changes=[],i}return i(e,t),e.prototype.getData=function(){return this.data},e.prototype.set=function(t,e){var n=s.Binding.get(t).set(this.data,e);n!=this.data&&(this.data=n,this.notify(t))},e.prototype.delete=function(t){var e=s.Binding.get(t).delete(this.data);e!=this.data&&(this.data=e,this.notify(t))},e.prototype.clear=function(){this.data={},this.notify()},e.prototype.subscribe=function(t){var e=this,n=++this.subscriptionKey;return this.subscriptions[n]=t,function(){return delete e.subscriptions[n]}},e.prototype.unsubscribeAll=function(){this.subscriptions={}},e.prototype.doNotify=function(t){var e=this;this.changes.push(t||""),this.scheduled||(this.scheduled=!0,setTimeout(function(){e.scheduled=!1;var t=e.changes;e.changes=[];for(var n in e.subscriptions)e.subscriptions[n](t)},0))},e}(a.View)},,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;e.Gists=function(){function t(e){n(this,t),this.gh=e}return t.prototype.checkOk=function(t){if(!t.ok)throw new Error("Invalid response received. "+t.statusText);return t},t.prototype.get=function(){var t={headers:{Authorization:"token "+this.getToken()}};return fetch("https://api.github.com/gists/"+this.getGistId(),t).then(this.checkOk.bind(this)).then(function(t){return t.json()})},t.prototype.load=function(){return this.get().then(function(t){var e=t.files["tdo.json"],n={};return e&&e.content&&(n=JSON.parse(e.content)),n})},t.prototype.create=function(t){var e={method:"POST",headers:{Authorization:"token "+this.getToken(),"Content-Type":"application/json"},body:JSON.stringify({description:"tdo tasks",files:this.convertFiles(t)})};return fetch("https://api.github.com/gists",e).then(this.checkOk.bind(this)).then(function(t){return t.json()})},t.prototype.update=function(t){var e={method:"PATCH",headers:{Authorization:"token "+this.getToken(),"Content-Type":"application/json"},body:JSON.stringify({files:this.convertFiles(t)})};return fetch("https://api.github.com/gists/"+this.getGistId(),e).then(this.checkOk.bind(this)).then(function(t){return t.json()})},t.prototype.convertFiles=function(t){return{"tdo.json":{content:JSON.stringify(t,null,2)}}},t.prototype.getGistId=function(){if(!this.gh||!this.gh.gistId)throw new Error("GistId not set. Please visit the Settings page.");return this.gh.gistId},t.prototype.getToken=function(){if(!this.gh||!this.gh.token)throw new Error("GitHub personal access token not set. Please visit the Settings page.");return this.gh.token},t}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.ExposedRecordView=void 0;var s=n(41),a=n(8);e.ExposedRecordView=function(t){function e(n,i,s,a,l){o(this,e);var u=r(this,t.call(this));return u.store=n,u.recordPath=a,u.indexPath=l,u.collectionBinding=i,u.itemIndex=s,u}return i(e,t),e.prototype.getData=function(){var t=this.store.getData();return this.embed(t)},e.prototype.embed=function(t){var e=this.collectionBinding.value(t),n=e[this.itemIndex];return t[this.recordPath]=n,this.indexPath&&(t[this.indexPath]=this.itemIndex),t},e.prototype.setStore=function(t){this.store=t},e.prototype.setIndex=function(t){this.itemIndex=t},e.prototype.set=function(t,e){if(t instanceof a.Binding&&(t=t.path),t==this.recordPath||0==t.indexOf(this.recordPath+".")){var n=this.store.getData(),o=this.collectionBinding.value(n),r=this.embed(n),i=a.Binding.get(t).set(r,e);if(i!=r){var s=i[this.recordPath],l=[].concat(o.slice(0,this.itemIndex),[s],o.slice(this.itemIndex+1));this.store.set(this.collectionBinding,l)}}else this.store.set(t,e)},e.prototype.delete=function(t){t instanceof a.Binding&&(t=t.path);var e,n,o;if(t==this.recordPath)e=this.store.getData(),n=this.collectionBinding.value(e),o=[].concat(n.slice(0,this.itemIndex),n.slice(this.itemIndex+1)),this.store.set(this.collectionBinding,o);else if(0==t.indexOf(this.recordPath+".")){e=this.store.getData(),n=this.collectionBinding.value(e);var r=this.embed(e),i=a.Binding.get(t).delete(r);if(i!=r){var s=i[this.recordPath];o=[].concat(n.slice(0,this.itemIndex),[s],n.slice(this.itemIndex+1)),this.store.set(this.collectionBinding,o)}}else this.store.delete(t)},e}(s.View)},function(t,e,n){"use strict";function o(){function t(t,e){var n,o=e&&l.map(function(t,n){return t(e)});return function(e){if(t||!o)o=l.map(function(t,n){return t(e)});else{for(var r=0,i=0;i<l.length;i++){var a=o[i],u=l[i](e);o[i]=u,a!==u&&r++}if(!r)return n}return n=s.apply(null,o)}}for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if(0==n.length)throw new Error("computable requires at least a compute function to be passed in arguments.");var s=n[n.length-1];if("function"!=typeof s)throw new Error("Last argument to the computable function should be a function.");for(var a,l=[],u=0;u+1<n.length;u++)if(a=n[u],"string"==typeof a)l.push(i.Binding.get(a).value);else if(a.createSelector)l.push(a.createSelector());else{if("function"!=typeof a)throw new Error("Invalid selector type '"+("undefined"==typeof a?"undefined":r(a))+"' received.");l.push(a)}var c=t(!0);return c.memoize=t,c}e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.computable=o;var i=n(8)},function(t,e){"use strict";function n(t){if(null==t)return!0;switch("undefined"==typeof t?"undefined":o(t)){case"object":return!t.type&&!t.$type&&(!!t.bind||(!!t.tpl||!!t.expr));case"function":return!0;case"string":return!0;case"number":return!0;case"boolean":return!0}return!1}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isSelector=n},function(t,e){"use strict";function n(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return 0==n.length?t:[].concat(t,n)}e.__esModule=!0,e.append=n},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.Culture=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(186),s=n(93),a=n(56),l="en",u={},c="USD";e.Culture=function(){function t(){o(this,t)}return t.setCulture=function(t){l=t,u={},s.Localization.setCulture(t),a.GlobalCacheIdentifier.change()},t.setDefaultCurrency=function(t){c=t,a.GlobalCacheIdentifier.change()},t.getNumberCulture=function(){return u.numberCulture||(u.numberCulture=new i.NumberCulture(l)),u.numberCulture},t.getDateTimeCulture=function(){return u.dateCulture||(u.dateCulture=new i.DateTimeCulture(l)),u.dateCulture},r(t,null,[{key:"defaultCurrency",get:function(){return c}},{key:"culture",get:function(){return l}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r={},i={};e.Localization=function(){function t(){n(this,t)}return t.register=function(t){return function(e){return r[t]=e.prototype,e}},t.registerPrototype=function(t,e){r[t]=e.prototype},t.localize=function(t,e,n){var r=i[t];r||(r=i[t]={}),r[e]=o({},r[e],n)},t.setCulture=function(t){var e=i[t];if(e)for(var n in e){var o=r[n];o&&Object.assign(o,e[n])}},t}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Text=void 0;var s=n(2),a=e.Text=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){!this.value&&(this.tpl||this.expr||this.bind)&&(this.value={tpl:this.tpl,expr:this.expr,bind:this.bind}),t.prototype.init.call(this)},e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{value:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.render=function(t,e,n){var o=e.data;return null!=o.value?o.value:""},e}(s.Widget);s.Widget.alias("text",a)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Label=void 0;var s=n(2),a=n(7),l=n(22),u=e.Label=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{required:void 0,htmlFor:void 0}]))},e.prototype.explore=function(e,n){n.data.htmlFor||(n.data.htmlFor=e.lastFieldId),t.prototype.explore.call(this,e,n)},e.prototype.attachProps=function(e,n,o){t.prototype.attachProps.call(this,e,n,o),o.htmlFor=n.data.htmlFor,!o.onClick&&n.data.htmlFor&&(o.onClick=function(){var t=document.getElementById(n.data.htmlFor);t&&l.FocusManager.focusFirst(t)});var r=n.data;this.asterisk&&r.required&&(Array.isArray(o.children)||(o.children=[o.children]),o.children.push(" "),o.children.push(s.VDOM.createElement("span",{className:this.CSS.element(this.baseClass,"asterisk")},"*")))},e}(a.HtmlElement);u.prototype.baseClass="label",u.prototype.tag="label",u.prototype.asterisk=!1},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.LabeledContainer=void 0;var s=n(2),a=n(9),l=n(95),u=n(90),c=e.LabeledContainer=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{label:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.init=function(){if(null!=this.label){var e={type:l.Label,asterisk:this.asterisk,required:!0};this.label.isComponentType?e=this.label:(0,u.isSelector)(this.label)?e.text=this.label:Object.assign(e,this.label),this.label=s.Widget.create(e)}t.prototype.init.call(this)},e.prototype.initComponents=function(e,n){var o;return(o=t.prototype.initComponents).call.apply(o,[this].concat(Array.prototype.slice.call(arguments),[{label:this.label}]))},e.prototype.renderLabel=function(t,e,n){if(e.components.label)return e.components.label.render(t,n)},e.prototype.render=function(t,e,n){return{label:this.renderLabel(t,e,n),content:this.renderChildren(t,e,n)}},e}(a.PureContainer);s.Widget.alias("labeled-container",c)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Radio=void 0;var s=n(2),a=n(31),l=n(20),u=n(19),c=e.Radio=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{value:void 0,selection:void 0,option:void 0,disabled:void 0,readOnly:void 0,required:void 0,text:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.init=function(){this.selection&&(this.value=this.selection),t.prototype.init.call(this)},e.prototype.formatValue=function(t,e){var n=e.data;return n.text},e.prototype.prepareData=function(e,n){var o,r=n.data;(o=t.prototype.prepareData).call.apply(o,[this].concat(Array.prototype.slice.call(arguments))),r.checked=r.value===r.option},e.prototype.renderValue=function(e,n){var o,r=n.data;return r.value===r.option?(o=t.prototype.renderValue).call.apply(o,[this].concat(Array.prototype.slice.call(arguments))):null},e.prototype.renderWrap=function(t,e,n,o){var r=e.data;return s.VDOM.createElement("label",{key:n,className:r.classNames,style:r.style,onMouseDown:u.stopPropagation,onTouchStart:u.stopPropagation,onMouseMove:function(t){return(0,l.tooltipMouseMove)(t,e)},onMouseLeave:function(t){return(0,l.tooltipMouseLeave)(t,e)},htmlFor:r.id},o)},e.prototype.renderInput=function(t,e,n){var o=this,r=e.data,i=r.text||(0,s.getContent)(this.renderChildren(t,e)),a=this.CSS;return this.renderWrap(t,e,n,[s.VDOM.createElement("input",{key:"input",className:a.element(this.baseClass,"radio"),id:r.id,type:"radio",checked:r.checked,disabled:r.disabled,onClick:u.stopPropagation,onChange:function(t){o.handleChange(t,e)}}),i&&s.VDOM.createElement("div",{key:"text",className:a.element(this.baseClass,"text")},i)])},e.prototype.handleChange=function(t,e){t.preventDefault();var n=e.data;n.readOnly||e.set("value",n.option)},e}(a.Field);c.prototype.baseClass="radio",s.Widget.alias("radio",c)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.ArrayAdapter=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(170),l=n(88),u=n(50),c=n(158);e.ArrayAdapter=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){this.map=new WeakMap},e.prototype.getRecords=function(t,e,n,o){return this.mapRecords(t,e,n,o,this.recordsBinding)},e.prototype.mapRecords=function(t,e,n,o,r){var i=this,a=[],c=o&&r;return Array.isArray(n)&&n.forEach(function(t,e){if(!i.filterFn||i.filterFn(t)){var n=i.map.get(t);if(c)n?(n.setStore(o),n.setIndex(e)):n=new l.ExposedRecordView(o,r,e,i.recordName,i.indexName);else{var p;n||(n=new u.ReadOnlyDataView(o,(p={},p[i.recordName]=t,p[i.indexName]=e,p)))}"object"==("undefined"==typeof t?"undefined":s(t))&&i.map.set(t,n),a.push({store:n,index:e,data:t,type:"data",key:i.keyField?t[i.keyField]:e})}}),this.sorter&&(a=this.sorter(a)),a},e.prototype.setFilter=function(t){this.filterFn=t},e.prototype.buildSorter=function(t){var e=this;Array.isArray(t)&&t.length>0?t.every(function(t){return t.field&&null==t.value})?this.sorter=(0,c.sorter)(t.map(function(t){return t.field?{value:{bind:t.field},direction:t.direction}:t}),function(t){return t.data}):this.sorter=(0,c.sorter)(t.map(function(t){return t.field&&null==t.value?{value:{bind:e.recordName+"."+t.field},direction:t.direction}:t}),function(t){return t.store.getData()}):this.sorter=null},e.prototype.sort=function(t){this.buildSorter(t)},e}(a.DataAdapter)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.FirstVisibleChildLayout=void 0;var s=n(32),a=e.FirstVisibleChildLayout=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.checkVisible=function(t){var e=this;return!!t.visible&&(!t.widget.layout||!t.widget.layout.useParentLayout||Array.isArray(t.children)&&t.children.some(function(t){return e.checkVisible(t)}))},e.prototype.explore=function(t,e,n){e.children=[];for(var o=!e.shouldUpdate&&null!=e.cached.children,r=0;r<n.length;r++){var i=e.getChild(t,n[r]);if(i.explore(t),this.checkVisible(i)){o&&e.cached.children[e.children.length]!==i&&(o=!1),e.children.push(i);break}}o&&e.children.length==e.cached.children.length||(e.shouldUpdate=!0)},e}(s.Layout);s.Layout.alias("firstvisiblechild",a)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=[];for(var n in t)"label"!=n&&(0,a.contentAppend)(e,t[n]);return e}e.__esModule=!0,e.LabelsLeftLayout=void 0;var a=n(2),l=n(32),u=e.LabelsLeftLayout=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(t,e,n){var o=[],r=e.children,i=this.CSS,l=this.baseClass;return r.forEach(function(e,n){var r=e.render(t);r&&(e.widget.layout&&e.widget.layout.useParentLayout&&Array.isArray(r.content)?r.content.forEach(function(t,e){o.push(a.VDOM.createElement("tr",{key:n+"-"+e},a.VDOM.createElement("td",{className:i.element(l,"label")},(0,a.getContent)(t.label)),a.VDOM.createElement("td",{className:i.element(l,"field")},s(t))))}):o.push(a.VDOM.createElement("tr",{key:n},a.VDOM.createElement("td",{className:i.element(l,"label")},(0,a.getContent)(r.label)),a.VDOM.createElement("td",{className:i.element(l,"field")},s(r)))))}),a.VDOM.createElement("table",{key:n,className:i.block(l,this.mod)},a.VDOM.createElement("tbody",null,o))},e}(l.Layout);u.prototype.baseClass="labelsleftlayout",l.Layout.alias("labels-left",u)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){var e=[];for(var n in t)"label"!=n&&(0,a.contentAppend)(e,t[n]);return e}e.__esModule=!0,e.LabelsTopLayout=void 0;var a=n(2),l=n(32),u=e.LabelsTopLayout=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(t,e,n){var o=[],r=[],i=e.children,l=this.CSS,u=this.baseClass;return i.forEach(function(e,n){var i=e.render(t);e.widget.layout&&e.widget.layout.useParentLayout&&Array.isArray(i.content)?i.content.forEach(function(t,e){o.push(a.VDOM.createElement("td",{key:n+"-"+e,className:l.element(u,"label")},(0,a.getContent)(t.label))),r.push(a.VDOM.createElement("td",{key:n+"-"+e,className:l.element(u,"field")},s(t)))}):(o.push(a.VDOM.createElement("td",{key:n,className:l.element(u,"label")},(0,a.getContent)(i.label))),r.push(a.VDOM.createElement("td",{key:n,className:l.element(u,"field")},s(i))))}),a.VDOM.createElement("table",{key:n,className:l.block(u,this.mod)},a.VDOM.createElement("tbody",null,a.VDOM.createElement("tr",null,o),a.VDOM.createElement("tr",null,r)))},e}(l.Layout);u.prototype.baseClass="labelstoplayout",l.Layout.alias("labels-top",u)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.UseParentLayout=void 0;var s=n(32),a=e.UseParentLayout=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(t,e,n){var o=[];return e.children.forEach(function(e){var n=e.render(t);e.widget.layout&&e.widget.layout.useParentLayout&&Array.isArray(n.content)?n.content.forEach(function(t){o.push(t)}):o.push(n)}),o},e}(s.Layout);a.prototype.useParentLayout=!0,s.Layout.alias("parent",a)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Dropdown=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},a=n(2),l=(n(161),n(104)),u=n(24),c=n(106),p=n(107),h=n(164),d=e.Dropdown=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;return(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{placement:void 0}]))},e.prototype.overlayDidMount=function(e,n){var o=this;t.prototype.overlayDidMount.call(this,e,n);var r=n.scrollableParents=[window];n.updateDropdownPosition=function(t){return o.updateDropdownPosition(e,n)},this.updateDropdownPosition(e,n);for(var i=this.relatedElement.parentElement;i;)r.push(i),i=i.parentElement;r.forEach(function(t){t.addEventListener("scroll",n.updateDropdownPosition)}),n.offResize=h.ResizeManager.subscribe(n.updateDropdownPosition),this.onDropdownDidMount&&this.onDropdownDidMount(e,n)},e.prototype.overlayDidUpdate=function(t,e){this.updateDropdownPosition(t,e)},e.prototype.overlayWillUnmount=function(t,e){var n=e.scrollableParents;n&&(n.forEach(function(t){t.removeEventListener("scroll",e.updateDropdownPosition)}),delete e.scrollableParents,delete e.updateDropdownPosition),e.offResize&&e.offResize()},e.prototype.updateDropdownPosition=function(t,e){var n=e.el,o=t.data,r=this.relatedElement.getBoundingClientRect();this.trackMouse&&e.mousePosition&&(r={left:e.mousePosition.x,right:e.mousePosition.x,top:e.mousePosition.y,bottom:e.mousePosition.y});var i={};this.matchWidth&&(i.minWidth=r.right-r.left+"px");var s=this.measureNaturalDropdownSize(t,e),a=this.findOptimalPlacement(s,r,o.placement);switch(this.positioning){case"absolute":this.applyAbsolutePositioningPlacementStyles(i,a,s,r,n);break;case"auto":(0,p.isTouchDevice)()?this.applyAbsolutePositioningPlacementStyles(i,a,s,r,n):this.applyFixedPositioningPlacementStyles(i,a,s,r,n);break;default:this.applyFixedPositioningPlacementStyles(i,a,s,r,n)}e.setCustomStyle(i),this.setDirectionClass(e,a),this.onDropdownPositionDidUpdate&&this.onDropdownPositionDidUpdate(t,e)},e.prototype.applyFixedPositioningPlacementStyles=function(t,e,n,o,r){var i=(0,c.getViewportSize)();switch(t.position="fixed",e){case"down":case"down-center":t.top=o.bottom+this.offset+"px",t.right="auto",t.bottom=this.constrain&&o.bottom+this.offset+n.height>i.height?"0":"auto",t.left=(o.left+o.right-r.offsetWidth)/2+"px";break;case"down-right":t.top=o.bottom+this.offset+"px",t.right="auto",t.left=o.left+"px",t.bottom=this.constrain&&o.bottom+this.offset+n.height>i.height?"0":"auto";break;case"down-left":t.top=o.bottom+this.offset+"px",t.right=i.width-o.right+"px",t.bottom=this.constrain&&o.bottom+this.offset+n.height>i.height?"0":"auto",t.left="auto";break;case"up":case"up-center":t.top=this.constrain&&o.top-this.offset-n.height<0?"0":"auto",t.right="auto",t.bottom=i.height-o.top+this.offset+"px",t.left=(o.left+o.right-r.offsetWidth)/2+"px";break;case"up-right":t.top=this.constrain&&o.top-this.offset-n.height<0?"0":"auto",t.right="auto",t.bottom=i.height-o.top+this.offset+"px",t.left=o.left+"px";break;case"up-left":t.top=this.constrain&&o.top-this.offset-n.height<0?"0":"auto",t.right=i.width-o.right+"px",t.bottom=i.height-o.top+this.offset+"px",t.left="auto";break;case"right":case"right-center":t.top=(o.top+o.bottom-r.offsetHeight)/2+"px",t.right="auto",t.bottom="auto",t.left=o.right+this.offset+"px";break;case"right-down":t.top=o.top+"px",t.right="auto",t.bottom="auto",t.left=o.right+this.offset+"px";break;case"right-up":t.top="auto",t.right="auto",t.bottom=i.height-o.bottom+"px",t.left=o.right+this.offset+"px";break;case"left":case"left-center":t.top=(o.top+o.bottom-r.offsetHeight)/2+"px",t.right=i.width-o.left+this.offset+"px",t.bottom="auto",t.left="auto";break;case"left-down":t.top=o.top+"px",t.right=i.width-o.left+this.offset+"px",t.bottom="auto",t.left="auto";break;case"left-up":t.top="auto",t.right=i.width-o.left+this.offset+"px",t.bottom=i.height-o.bottom+"px",t.left="auto"}},e.prototype.applyAbsolutePositioningPlacementStyles=function(t,e,n,o,r){var i=(0,c.getViewportSize)();switch(t.position="absolute",e){case"down":case"down-center":t.top=o.bottom-o.top+this.offset+"px",t.right="auto",t.bottom=this.constrain&&o.bottom+this.offset+n.height>i.height?o.bottom+this.offset-i.height+"px":"auto",t.left=(o.right-o.left-r.offsetWidth)/2+"px";break;case"down-right":t.top=o.bottom-o.top+this.offset+"px",t.right="auto",t.left="0",t.bottom=this.constrain&&o.bottom+this.offset+n.height>i.height?o.bottom+this.offset-i.height+"px":"auto";break;case"down-left":t.top=o.bottom-o.top+this.offset+"px",t.right="0",t.bottom=this.constrain&&o.bottom+this.offset+n.height>i.height?o.bottom+this.offset-i.height+"px":"auto",t.left="auto";break;case"up":case"up-center":t.top=this.constrain&&o.top-this.offset-n.height<0?this.offset-o.top+"px":"auto",t.right="auto",t.bottom=o.bottom-o.top-this.offset+"px",t.left=(o.right-o.left-r.offsetWidth)/2+"px";break;case"up-right":t.top=this.constrain&&o.top-this.offset-n.height<0?this.offset-o.top+"px":"auto",t.right="auto",t.bottom=o.bottom-o.top-this.offset+"px",t.left="0";break;case"up-left":t.top=this.constrain&&o.top-this.offset-n.height<0?this.offset-o.top+"px":"auto",t.right="0",t.bottom=o.bottom-o.top-this.offset+"px",t.left="auto";break;case"right":case"right-center":t.top=(o.bottom-o.top-r.offsetHeight)/2+"px",t.right="auto",t.bottom="auto",t.left=o.right-o.left+this.offset+"px";break;case"right-down":t.top="0",t.right="auto",t.bottom="auto",t.left=o.right-o.left+this.offset+"px";break;case"right-up":t.top="auto",t.right="auto",t.bottom="0",t.left=o.right-o.left+this.offset+"px";break;case"left":case"left-center":t.top=(o.bottom-o.top-r.offsetHeight)/2+"px",t.right=o.right-o.left+this.offset+"px",t.bottom="auto",t.left="auto";break;case"left-down":t.top="0",t.right=o.right-o.left+this.offset+"px",t.bottom="auto",t.left="auto";break;case"left-up":t.top="auto",t.right=o.right-o.left+this.offset+"px",t.bottom="0",t.left="auto"}},e.prototype.setDirectionClass=function(t,e){var n,o={"place-left":!1,"place-right":!1,"place-up":!1,"place-down":!1};t.setCSSState(s({},o,(n={},n["place-"+e]=!0,n)))},e.prototype.measureNaturalDropdownSize=function(t,e){var n=e.el,o={width:n.offsetWidth,height:n.offsetHeight};if(this.onMeasureDropdownNaturalSize){
var r=this.onMeasureDropdownNaturalSize(t,e);Object.assign(o,r)}return o},e.prototype.findOptimalPlacement=function(t,e,n){for(var o,r=this.placementOrder.split(" "),i=n,s={},a=(0,c.getViewportSize)(),l=0;l<r.length;l++){var u=r[l];o||(o=u);var p=u.split("-"),h=p[0],d=p[1]||"center";s[u]=0;var f=!0;switch(h){case"down":s[u]+=3*Math.min(1,(a.height-e.bottom-this.offset)/t.height);break;case"up":s[u]+=3*Math.min(1,(e.top-this.offset)/t.height);break;case"right":s[u]+=e.right+t.width+this.offset<a.width?3:0,f=!1;break;case"left":s[u]+=e.left-t.width-this.offset>=0?3:0,f=!1}switch(d){case"center":f?(s[u]+=(e.right+e.left-t.width)/2>=0?1:0,s[u]+=(e.right+e.left+t.width)/2<a.width?1:0):(s[u]+=(e.bottom+e.top-t.height)/2>=0?1:0,s[u]+=(e.bottom+e.top+t.height)/2<a.height?1:0);break;case"right":s[u]+=e.left+t.width<a.width?2:0;break;case"left":s[u]+=e.right-t.width>=0?2:0;break;case"up":s[u]+=e.bottom-t.height>0?2:0;break;case"down":s[u]+=e.top+t.height<a.height?2:0}}i in s||(i=o);for(var y in s)s[y]>s[i]&&(i=y);return i},e.prototype.handleKeyDown=function(t,e){switch(t.keyCode){case 27:var n=(0,u.findFirst)(this.relatedElement,u.isFocusable);n&&n.focus(),t.stopPropagation(),t.preventDefault()}this.onKeyDown&&this.onKeyDown(t,e)},e}(l.Overlay);d.prototype.offset=0,d.prototype.baseClass="dropdown",d.prototype.placement=void 0,d.prototype.matchWidth=!0,d.prototype.placementOrder="up down right left",d.prototype.placement=null,d.prototype.constrain=!1,d.prototype.positioning="fixed",a.Widget.alias("dropdown",d)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.OverlayComponent=e.Overlay=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},a=n(2),l=n(9),u=n(84),c=n(22),p=n(24),h=n(106),d=n(177),f=e.Overlay=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;return(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{style:{structured:!0},class:{structured:!0},className:{structured:!0},resizable:void 0,draggable:void 0}]))},e.prototype.prepareData=function(e,n){var o=this,r=n.data,i=n.store;r.stateMods=s({},r.stateMods,{inline:this.inline,modal:this.modal,resizable:r.resizable,draggable:r.draggable}),e.options.dismiss?n.dismiss=e.options.dismiss:this.visible&&this.visible.bind&&(n.dismiss=function(){i.set(o.visible.bind,!1)}),t.prototype.prepareData.call(this,e,n)},e.prototype.explore=function(e,n){var o=e.parentOptions;n.dismiss&&(e.parentOptions=s({},e.parentOptions,{dismiss:n.dismiss})),t.prototype.explore.call(this,e,n),e.parentOptions=o},e.prototype.render=function(t,e,n){return a.VDOM.createElement(y,{key:n,instance:e,subscribeToBeforeDismiss:t.options.subscribeToBeforeDismiss,parentEl:t.options.parentEl},this.renderContents(t,e))},e.prototype.renderContents=function(t,e){return this.renderChildren(t,e)},e.prototype.overlayDidMount=function(t,e){if(this.center){var n=e.el,o=n.getBoundingClientRect();(0,h.getViewportSize)();n.style.left=(window.innerWidth-o.width)/2+"px",n.style.top=(window.innerHeight-o.height)/2+"px"}},e.prototype.overlayDidUpdate=function(t,e){},e.prototype.overlayWillUnmount=function(t,e){},e.prototype.handleFocusOut=function(t,e){this.onFocusOut&&this.onFocusOut(t,e),this.dismissOnFocusOut&&t.dismiss&&t.dismiss()},e.prototype.handleKeyDown=function(t,e,n){this.onKeyDown&&this.onKeyDown(t,e,n)},e.prototype.handleMouseLeave=function(t,e){this.onMouseLeave&&this.onMouseLeave(t,e)},e.prototype.handleMouseEnter=function(t,e){this.onMouseEnter&&this.onMouseEnter(t,e)},e.prototype.open=function(t,e){var n=this;this.initialized||this.init();var o=document.createElement("div");document.body.appendChild(o),o.style.display="hidden",e=s({},e,{parentEl:o}),e.name=e.name||"overlay";var r,i,l;e.subscribeToBeforeDismiss=function(t){i=t};var c=e.dismiss=function(){l||i&&i()===!1||(l=!0,r(),o&&setTimeout(function(){a.VDOM.DOM.unmountComponentAtNode&&a.VDOM.DOM.unmountComponentAtNode(o),document.body.removeChild(o),o=null},n.destroyDelay))};return r=(0,u.startAppLoop)(o,t,this,e),c},e}(l.PureContainer);f.prototype.baseClass="overlay",f.prototype.resizable=!1,f.prototype.resizeWidth=7,f.prototype.center=!1,f.prototype.modal=!1,f.prototype.backdrop=!1,f.prototype.inline=!1,f.prototype.autoFocus=!1,f.prototype.animate=!1,f.prototype.draggable=!1,f.prototype.destroyDelay=0,f.prototype.dismissOnFocusOut=!1,a.Widget.alias("overlay",f);var y=e.OverlayComponent=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n));return i.state={},i.customStyle={},i}return i(e,t),e.prototype.render=function(){var t=this.props,e=t.instance,n=t.parentEl,o=e.widget;return o.inline||n?this.renderOverlay():null},e.prototype.renderOverlay=function(){var t=this,e=this.props.instance,n=e.widget,o=e.data,r=n.CSS,i=n.baseClass;return a.VDOM.createElement("div",{ref:function(e){t.el=e},className:o.classNames,style:o.style,tabIndex:this.focusable?0:null,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseMove:this.onMouseMove.bind(this),onMouseUp:this.onMouseUp.bind(this),onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},(n.modal||n.backdrop)&&a.VDOM.createElement("div",{className:r.element(i,"modal-backdrop"),key:"backdrop",onClick:this.onBackdropClick.bind(this)}),this.renderOverlayBody())},e.prototype.renderOverlayBody=function(){return this.props.children},e.prototype.onFocus=function(){c.FocusManager.nudge(),this.onFocusIn(),this.el&&(0,c.oneFocusOut)(this,this.el,this.onFocusOut.bind(this))},e.prototype.onBlur=function(){c.FocusManager.nudge()},e.prototype.onFocusIn=function(){},e.prototype.onFocusOut=function(){var t=this.props.instance.widget;t.handleFocusOut(this.props.instance,this)},e.prototype.onMouseEnter=function(t){var e=this.props.instance.widget;e.handleMouseEnter(this.props.instance,this)},e.prototype.onMouseLeave=function(t){var e=this.props.instance.widget;e.handleMouseLeave(this.props.instance,this)},e.prototype.onKeyDown=function(t){var e=this.props.instance.widget;e.handleKeyDown(t,this.props.instance,this)},e.prototype.getResizePrefix=function(t){var e=this.props.instance,n=e.widget,o=e.data;if(!o.resizable)return"";var r=this.getCursorPos(t),i=this.el.getBoundingClientRect(),s=r.clientX-i.left,a=i.right-r.clientX,l=r.clientY-i.top,u=i.bottom-r.clientY,c="";return l>=0&&l<n.resizeWidth?c+="n":u>=0&&u<n.resizeWidth&&(c+="s"),s>=0&&s<n.resizeWidth?c+="w":a>=0&&a<n.resizeWidth&&(c+="e"),c},e.prototype.onMouseDown=function(t){var e=this.props.instance.data,n=this.getResizePrefix(t);if(n){t.stopPropagation();var o=this.el.getBoundingClientRect(),r=this.getCursorPos(t),i={prefix:n,dl:r.clientX-o.left,dt:r.clientY-o.top,dr:r.clientX-o.right,db:r.clientY-o.bottom,rect:o};(0,d.captureMouseOrTouch)(t,this.onMouseMove.bind(this),null,i,n+"-resize")}else e.draggable&&(this.startMoveOperation(t),t.stopPropagation());t.stopPropagation()},e.prototype.onBackdropClick=function(t){t.stopPropagation();var e=this.props.instance,n=e.widget;n.backdrop&&e.dismiss&&e.dismiss()},e.prototype.onMouseUp=function(t){t.stopPropagation()},e.prototype.onMouseMove=function(t,e){if(e){var n=e.prefix,o=e.rect,r=e.dl,i=e.dt,s=e.dr,a=e.db,l=this.getCursorPos(t);n.indexOf("w")!=-1&&this.setCustomStyle({left:l.clientX-r+"px",width:o.right-l.clientX+r+"px",right:"auto"}),n.indexOf("n")!=-1&&this.setCustomStyle({top:l.clientY-i+"px",height:o.bottom-l.clientY+i+"px",bottom:"auto"}),n.indexOf("e")!=-1&&this.setCustomStyle({width:l.clientX-s-o.left+"px",left:o.left+"px",right:"auto"}),n.indexOf("s")!=-1&&this.setCustomStyle({height:l.clientY-a-o.top+"px",top:o.top+"px",bottom:"auto"})}else{var n=this.getResizePrefix(t);this.setCustomStyle({cursor:n?n+"-resize":null})}},e.prototype.getCursorPos=function(t){return t.touches&&t.touches[0]||{clientX:t.clientX,clientY:t.clientY}},e.prototype.startMoveOperation=function(t){if(this.el&&!this.getResizePrefix(t)){t.stopPropagation();var e=this.el.getBoundingClientRect(),n=this.getCursorPos(t),o={dx:n.clientX-e.left,dy:n.clientY-e.top};(0,d.captureMouseOrTouch)(t,this.onMove.bind(this),null,o,getComputedStyle(t.target).cursor)}},e.prototype.onMove=function(t,e){if(e){var n=this.getCursorPos(t);t.preventDefault(),this.setCustomStyle({left:n.clientX-e.dx+"px",top:n.clientY-e.dy+"px",right:"auto",bottom:"auto"})}},e.prototype.componentDidMount=function(){var t=this,e=this.props,n=e.instance,o=e.subscribeToBeforeDismiss,r=e.parentEl,i=n.widget;r||i.inline||(this.ownedEl=document.createElement("div"),this.ownedEl.style.display="hidden",this.containerEl=this.ownedEl,document.body.appendChild(this.ownedEl)),this.componentDidUpdate(),i.overlayDidMount(n,this),this.containerEl?this.containerEl.style.display=null:r&&(r.style.display=null),i.autoFocus?c.FocusManager.focusFirst(this.el):(0,p.isSelfOrDescendant)(this.el,document.activeElement)&&(0,c.oneFocusOut)(this,this.el,this.onFocusOut.bind(this)),o&&o(function(){i.animate&&t.setState({animated:!1})}),i.animate&&this.setState({animated:!0})},e.prototype.componentWillUnmount=function(){var t=this;(0,c.offFocusOut)(this);var e=this.props.instance.widget;e.overlayWillUnmount(this.props.instance,this),this.ownedEl&&setTimeout(function(){document.body.removeChild(t.ownedEl),t.ownedEl=null},0),delete this.containerEl},e.prototype.setCustomStyle=function(t){Object.assign(this.customStyle,t),this.el&&Object.assign(this.el.style,this.customStyle)},e.prototype.getOverlayStyle=function(){var t=this.props.instance.data;return s({},t.style,this.customStyle)},e.prototype.setCSSState=function(t){var e=s({},this.state.mods),n=!1;for(var o in t)e[o]!==t[o]&&(e[o]=t[o],n=!0);n&&this.setState({mods:t})},e.prototype.getOverlayCssClass=function(){var t=this.props.instance,e=t.data,n=t.widget,o=n.CSS;return o.expand(e.classNames,o.state(s({},this.state.mods,{animated:this.state.animated})))},e.prototype.componentDidUpdate=function(){this.containerEl&&a.VDOM.DOM.render(this.renderOverlay(),this.containerEl);var t=this.props.instance.widget;t.overlayDidUpdate(this.props.instance,this),this.el.className=this.getOverlayCssClass(),Object.assign(this.el.style,this.getOverlayStyle())},e}(a.VDOM.Component)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return t=isNaN(t)?t:Number(t),e=isNaN(e)?e:Number(e),"number"==typeof t?"undefined"==typeof e?e=t:"number"==typeof e&&e<t&&(e=t):null==t&&null==e&&(t=0,e=20),{minimumFractionDigits:t,maximumFractionDigits:e}}function i(t){var e=h;if(t)for(var n=t.split("|"),o=n[1]||"",r=n[0].split(":"),i=0;i<r.length;i++){var s=r[i].split(";"),a=d[s[0]];a?0==i?e=a.apply(void 0,s):!function(){var t=a.apply(void 0,s),n=e;e=function(e){return t(n(e))}}():u.Console.log("Unknown string format: "+t)}return function(t){return null==t||""===t?o:e(t)}}function s(){return f.cacheIdentifier!=p.GlobalCacheIdentifier.get()&&(f={cache:{},cacheIdentifier:p.GlobalCacheIdentifier.get()}),f.cache}function a(t){t||(t="");var e=s(),n=e[t];return n||(n=e[t]=i(t)),n}e.__esModule=!0,e.Format=void 0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=n(33),c=n(92),p=n(56),h=function(t){return t.toString()},d={string:function(){return h},number:function(t,e,n){var o=c.Culture.getNumberCulture(),i=o.getFormatter(r(e,n));return function(t){return i.format(t)}},currency:function(t,e,n,o){var i=c.Culture.getNumberCulture();e=e||c.Culture.defaultCurrency;var s=i.getFormatter(l({style:"currency",currency:e},r(n,o)));return function(t){return s.format(t)}},percentage:function(t,e,n){var o=c.Culture.getNumberCulture(),i=o.getFormatter(l({style:"percent"},r(e,n)));return function(t){return i.format(t)}},percentSign:function(t,e,n){var o=c.Culture.getNumberCulture(),i=o.getFormatter(l({style:"percent"},r(e,n)));return function(t){return i.format(t/100)}},date:function(){var t=c.Culture.getDateTimeCulture(),e=t.getFormatter();return function(t){return e.format(new Date(t))}},time:function(){var t=c.Culture.getDateTimeCulture(),e=t.getFormatter({hour:"numeric",minute:"numeric",second:"numeric"});return function(t){return e.format(new Date(t))}},datetime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyyMd hhmm",n=c.Culture.getDateTimeCulture(),o=n.getFormatter(e);return function(t){return o.format(new Date(t))}},wrap:function(t,e,n){return e||(e=""),n||(n=""),function(t){return e+t.toString()+n}},prefix:function(t,e){return e||(e=""),function(t){return e+t.toString()}},suffix:function(t,e){return e||(e=""),function(t){return t.toString()+e}},uppercase:function(){return function(t){return t.toString().toUpperCase()}},lowercase:function(){return function(t){return t.toString().toLowerCase()}},urlencode:function(){return function(t){return encodeURIComponent(t)}}};d.d=d.date,d.dt=d.datetime,d.t=d.time,d.s=d.str=d.string,d.n=d.number,d.p=d["%"]=d.percentage,d.ps=d.percentSign;var f={cache:{}};e.Format=function(){function t(){o(this,t)}return t.value=function(t,e){var n=a(e);return n(t)},t.parse=function(t){return a(t)},t.register=function(t,e){d[t]=function(){return e}},t.registerFactory=function(t,e){d[t]=e},t}()},function(t,e){"use strict";function n(){return{width:window.innerWidth,height:window.innerHeight}}e.__esModule=!0,e.getViewportSize=n},function(t,e){"use strict";function n(){return null==o&&(o="ontouchstart"in window),o}e.__esModule=!0,e.isTouchDevice=n;var o=null},function(t,e){"use strict";function n(t){if("string"!=typeof t)return t;for(var e={},n=t.split(";"),o=0;o<n.length;o++){var r=n[o],i=r.indexOf(":");if(i!=-1){var s=r.substring(0,i).trim(),a=r.substring(i+1).trim();s=s.split("-").map(function(t,e){return 0==e?t:t[0].toUpperCase()+t.substring(1)}).join(""),e[s]=a}}return e}e.__esModule=!0,e.parseStyle=n},function(t,e){"use strict";function n(t){return null==t?t:"'"+t.replace(/'/g,"\\i")+"'"}e.__esModule=!0,e.quoteStr=n},,,,function(t,e,n){(function(e){(function(){function e(t){this.tokens=[],this.tokens.links={},this.options=t||c.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function n(t,e){if(this.options=e||c.defaults,this.links=t,this.rules=h.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function o(t){this.options=t||{}}function r(t){this.tokens=[],this.token=null,this.options=t||c.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function i(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(t,e){return e=e.toLowerCase(),"colon"===e?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function a(t,e){return t=t.source,e=e||"",function n(o,r){return o?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(o,r),n):new RegExp(t,e)}}function l(){}function u(t){for(var e,n,o=1;o<arguments.length;o++){e=arguments[o];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}function c(t,n,o){if(o||"function"==typeof n){o||(o=n,n=null),n=u({},c.defaults,n||{});var s,a,l=n.highlight,p=0;try{s=e.lex(t,n)}catch(t){return o(t)}a=s.length;var h=function(t){if(t)return n.highlight=l,o(t);var e;try{e=r.parse(s,n)}catch(e){t=e}return n.highlight=l,t?o(t):o(null,e)};if(!l||l.length<3)return h();if(delete n.highlight,!a)return h();for(;p<s.length;p++)!function(t){return"code"!==t.type?--a||h():l(t.text,t.lang,function(e,n){return e?h(e):null==n||n===t.text?--a||h():(t.text=n,t.escaped=!0,void(--a||h()))})}(s[p])}else try{return n&&(n=u({},c.defaults,n)),r.parse(e.lex(t,n),n)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+i(t.message+"",!0)+"</pre>";throw t}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=a(p.item,"gm")(/bull/g,p.bullet)(),p.list=a(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=a(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=a(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=a(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=u({},p),p.gfm=u({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=a(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=u({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){var o=new e(n);return o.lex(t)},e.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},e.prototype.token=function(t,e,n){for(var o,r,i,s,a,l,u,c,h,t=t.replace(/^ +$/gm,"");t;)if((i=this.rules.newline.exec(t))&&(t=t.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(t))t=t.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]||""});else if(i=this.rules.heading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(e&&(i=this.rules.nptable.exec(t))){for(t=t.substring(i[0].length),l={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(i=this.rules.lheading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,e,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(t)){for(t=t.substring(i[0].length),s=i[2],this.tokens.push({type:"list_start",ordered:s.length>1}),i=i[0].match(this.rules.item),o=!1,h=i.length,c=0;c<h;c++)l=i[c],u=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(a=p.bullet.exec(i[c+1])[0],s===a||s.length>1&&a.length>1||(t=i.slice(c+1).join("\n")+t,c=h-1)),r=o||/\n\n(?!\s*$)/.test(l),c!==h-1&&(o="\n"===l.charAt(l.length-1),r||(r=o)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(t))t=t.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(!n&&e&&(i=this.rules.def.exec(t)))t=t.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(e&&(i=this.rules.table.exec(t))){for(t=t.substring(i[0].length),l={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(e&&(i=this.rules.paragraph.exec(t)))t=t.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=a(h.link)("inside",h._inside)("href",h._href)(),h.reflink=a(h.reflink)("inside",h._inside)(),h.normal=u({},h),h.pedantic=u({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=u({},h.normal,{escape:a(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=u({},h.gfm,{br:a(h.br)("{2,}","*")(),text:a(h.gfm.text)("{2,}","*")()}),n.rules=h,n.output=function(t,e,o){var r=new n(e,o);return r.output(t)},n.prototype.output=function(t){for(var e,n,o,r,s="";t;)if(r=this.rules.escape.exec(t))t=t.substring(r[0].length),s+=r[1];else if(r=this.rules.autolink.exec(t))t=t.substring(r[0].length),"@"===r[2]?(n=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),o=this.mangle("mailto:")+n):(n=i(r[1]),o=n),s+=this.renderer.link(o,null,n);else if(this.inLink||!(r=this.rules.url.exec(t))){if(r=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),t=t.substring(r[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):i(r[0]):r[0];else if(r=this.rules.link.exec(t))t=t.substring(r[0].length),this.inLink=!0,s+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(t))||(r=this.rules.nolink.exec(t))){if(t=t.substring(r[0].length),e=(r[2]||r[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){s+=r[0].charAt(0),t=r[0].substring(1)+t;continue}this.inLink=!0,s+=this.outputLink(r,e),this.inLink=!1}else if(r=this.rules.strong.exec(t))t=t.substring(r[0].length),s+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(t))t=t.substring(r[0].length),s+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(t))t=t.substring(r[0].length),s+=this.renderer.codespan(i(r[2],!0));else if(r=this.rules.br.exec(t))t=t.substring(r[0].length),s+=this.renderer.br();else if(r=this.rules.del.exec(t))t=t.substring(r[0].length),s+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),s+=this.renderer.text(i(this.smartypants(r[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(r[0].length),n=i(r[1]),o=n,s+=this.renderer.link(o,null,n);return s},n.prototype.outputLink=function(t,e){var n=i(e.href),o=e.title?i(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,o,this.output(t[1])):this.renderer.image(n,o,i(t[1]))},n.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦"):t},n.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",o=t.length,r=0;r<o;r++)e=t.charCodeAt(r),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},o.prototype.code=function(t,e,n){if(this.options.highlight){var o=this.options.highlight(t,e);null!=o&&o!==t&&(n=!0,t=o)}return e?'<pre><code class="'+this.options.langPrefix+i(e,!0)+'">'+(n?t:i(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:i(t,!0))+"\n</code></pre>"},o.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},o.prototype.html=function(t){return t},o.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},o.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},o.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},o.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},o.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},o.prototype.tablecell=function(t,e){var n=e.header?"th":"td",o=e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">";return o+t+"</"+n+">\n"},o.prototype.strong=function(t){return"<strong>"+t+"</strong>"},o.prototype.em=function(t){return"<em>"+t+"</em>"},o.prototype.codespan=function(t){return"<code>"+t+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(t){return"<del>"+t+"</del>"},o.prototype.link=function(t,e,n){if(this.options.sanitize){try{var o=decodeURIComponent(s(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===o.indexOf("javascript:")||0===o.indexOf("vbscript:"))return""}var r='<a href="'+t+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"},o.prototype.image=function(t,e,n){var o='<img src="'+t+'" alt="'+n+'"';return e&&(o+=' title="'+e+'"'),o+=this.options.xhtml?"/>":">"},o.prototype.text=function(t){return t},r.parse=function(t,e,n){var o=new r(e,n);return o.parse(t)},r.prototype.parse=function(t){this.inline=new n(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,o,r,i="",s="";for(n="",t=0;t<this.token.header.length;t++)o={header:!0,align:this.token.align[t]},n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});s+=this.renderer.tablerow(n)}return this.renderer.table(i,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",a=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,a);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,c.options=c.setOptions=function(t){return u(c.defaults,t),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1},c.Parser=r,c.parser=r.parse,c.Renderer=o,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=n,c.inlineLexer=n.output,c.parse=c,t.exports=c}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(e,n(271))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){"use strict";function n(t){return function(e,n){return{displayName:t,props:e,children:n||[]}}}t.exports={Root:n("Root"),Concat:n("Concat"),Literal:n("Literal"),Splat:n("Splat"),Param:n("Param"),Optional:n("Optional")}},function(t,e,n){"use strict";function o(t){return r.forEach(function(e){if("undefined"==typeof t[e])throw new Error("No handler defined for "+e.displayName)}),{visit:function(t,e){return this.handlers[t.displayName].call(this,t,e)},handlers:t}}var r=Object.keys(n(140));t.exports=o},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=e.store;t.preventDefault();var o={id:(0,v.default)(),name:"New Board",created:(new Date).toISOString(),edit:!0};n.update("tdo.boards",g.append,o),window.location.hash="#"+o.id}e.__esModule=!0;var i=n(7),s=(n(173),n(23)),a=n(172),l=n(165),u=n(30),c=n(99),p=n(151),h=o(p),d=n(154),f=o(d),y=n(152),m=o(y),g=n(91),b=n(83),v=o(b);e.default={$type:i.HtmlElement,tag:"div",class:"cxb-layout",jsxAttributes:["class"],children:["\n        ",{$type:i.HtmlElement,tag:"header",class:"cxe-layout-header",jsxAttributes:["class"],children:["\n            ",{$type:i.HtmlElement,tag:"h1",children:["tdo"]},"\n            ",{
$type:s.TextField,value:{bind:"search.query"},placeholder:"Search...",mod:"search",jsxAttributes:["value","placeholder","mod"]},"\n\n            ",{$type:u.Repeater,records:{bind:"tdo.boards"},jsxAttributes:["records"],children:["\n                ",{$type:i.HtmlElement,tag:"a",href:{tpl:"#{$record.id}"},class:{active:{expr:'{hash}=="#" + {$record.id}'}},style:{bind:"$record.headerStyle"},text:{bind:"$record.name"},jsxAttributes:["href","class","style","text"]},"\n            "]},"\n            ",{$type:i.HtmlElement,tag:"a",href:"#",onClick:r,jsxAttributes:["href","onClick"],children:["Add Board"]},"\n\n            ",{$type:i.HtmlElement,tag:"div",class:"spacer",jsxAttributes:["class"]},"\n\n            ",{$type:i.HtmlElement,tag:"a",href:"#settings",class:{active:{expr:'{hash}=="#settings"'}},jsxAttributes:["href","class"],children:["Settings"]},"\n            ",{$type:i.HtmlElement,tag:"a",href:"#help",class:{active:{expr:'{hash}=="#help"'}},jsxAttributes:["href","class"],children:["Help"]},"\n\n            ",{$type:i.HtmlElement,tag:"div",class:"spacer",jsxAttributes:["class"]},"\n\n            ",{$type:i.HtmlElement,tag:"a",href:"https://github.com/mstijak/tdo",target:"_blank",jsxAttributes:["href","target"],children:["Report/Suggest"]},"\n            ",{$type:i.HtmlElement,tag:"a",href:"http://twitter.com/home?status="+encodeURIComponent("tdo - hackable todo list #todo https://goo.gl/rhkuYP"),target:"_blank",jsxAttributes:["href","target"],children:["Tweet"]},"\n        "]},"\n        ",{$type:i.HtmlElement,tag:"main",class:"cxe-layout-main",jsxAttributes:["class"],children:["\n            ",{$type:l.Sandbox,key:{bind:"hash"},storage:{bind:"pages"},layout:c.FirstVisibleChildLayout,jsxAttributes:["key","storage","layout"],children:["\n                ",{$type:a.Route,url:{bind:"hash"},route:"#settings",jsxAttributes:["url","route"],children:["\n                    ",{$type:f.default},"\n                "]},"\n                ",{$type:a.Route,url:{bind:"hash"},route:"#help",jsxAttributes:["url","route"],children:["\n                    ",{$type:m.default},"\n                "]},"\n                ",{$type:a.Route,url:{bind:"hash"},route:"#(:boardId)",jsxAttributes:["url","route"],children:["\n                    ",{$type:h.default},"\n                "]},"\n            "]},"\n        "]},"\n    "]}},function(t,e){},function(t,e){"use strict";function n(t){var e,n=t.split("\n"),o=1e5,r=1e5;return n.forEach(function(t,n){for(var i=0;i<t.length;i++)if(" "!=t[i]){i<o&&(o=i),e=n,n<r&&(r=n);break}}),0==o?t:n.filter(function(t,n){return n>=r&&n<=e}).map(function(t){return t.length>o?t.substring(o):""}).join("\n")}e.__esModule=!0,e.removeCommonIndent=n},function(t,e,n){"use strict";function o(t){for(var e=(new Date).getTime(),n=864e5,o=(t.settings.purgeDeletedObjectsAfterDays||7)*n,r=(t.settings.completedTasksRetentionDays||7)*n,i={},s=t.boards,a=Array.isArray(s),l=0,s=a?s:s[Symbol.iterator]();;){var u;if(a){if(l>=s.length)break;u=s[l++]}else{if(l=s.next(),l.done)break;u=l.value}var c=u;(!c.isDeleted||c.deletedDate&&new Date(c.deletedDate).getTime()-e<o)&&(i[c.id]=!0)}t.boards=t.boards.filter(function(t){return i[t.id]});for(var p={},h=t.lists,d=Array.isArray(h),f=0,h=d?h:h[Symbol.iterator]();;){var y;if(d){if(f>=h.length)break;y=h[f++]}else{if(f=h.next(),f.done)break;y=f.value}var m=y;(i[m.boardId]&&!m.isDeleted||m.deletedDate&&new Date(m.deletedDate).getTime()-e<o)&&(p[m.id]=!0)}t.lists=t.lists.filter(function(t){return p[t.id]});for(var g={},b=t.tasks,v=Array.isArray(b),w=0,b=v?b:b[Symbol.iterator]();;){var x;if(v){if(w>=b.length)break;x=b[w++]}else{if(w=b.next(),w.done)break;x=w.value}var k=x;(p[k.listId]&&!k.isDeleted||k.deletedDate&&new Date(k.deletedDate).getTime()-e<o)&&(!k.completed||!t.settings.deleteCompletedTasks||k.completedDate&&new Date(k.completedDate).getTime()-e<r)&&(g[k.id]=!0)}t.tasks=t.tasks.filter(function(t){return g[t.id]})}e.__esModule=!0,e.cleanup=o;n(180)},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=t.version||0,n=e;n<l.length;n++)l[n](t),t.version=n;(0,a.cleanup)(t)}e.__esModule=!0,e.migrate=r;var i=n(83),s=o(i),a=n(145),l=[];l.push(function(t){Array.isArray(t.boards)||(t.boards=[{id:(0,s.default)(),name:"Tasks"}]),t.lists.forEach(function(e){e.boardId||(e.boardId=t.boards[0].id)})}),l.push(function(t){t.settings||(t.settings={completedTasksRetentionDays:1,deleteCompletedTasks:!0,deleteCompletedTasksAfterDays:7,purgeDeletedObjectsAfterDays:3})}),l.push(function(t){for(var e=t.boards,n=t.lists,o=t.tasks,r=[e,n,o],i=0;i<r.length;i++)for(var s=r[i],a=s,l=Array.isArray(a),u=0,a=l?a:a[Symbol.iterator]();;){var c;if(l){if(u>=a.length)break;c=a[u++]}else{if(u=a.next(),u.done)break;c=u.value}var p=c;p.created&&(p.createdDate=p.created,delete p.created),p.isDeleted&&(p.deleted=p.isDeleted,delete p.isDeleted)}})},function(t,e,n){"use strict";e.__esModule=!0;var o=n(7),r=n(23),i=n(54),s=n(21),a=n(101);e.default={$type:o.HtmlElement,tag:"div",class:"cxb-listeditor",jsxAttributes:["class"],children:["\n        ",{$type:o.HtmlElement,tag:"div",layout:{type:a.LabelsTopLayout,mod:"stretch"},jsxAttributes:["layout"],children:["\n            ",{$type:r.TextField,value:{bind:"$board.name"},label:"Name",autoFocus:!0,style:"width:100%;",jsxAttributes:["value","label","autoFocus","style"]},"\n        "]},"\n\n        ",{$type:o.HtmlElement,tag:"br"},"\n\n        ",{$type:o.HtmlElement,tag:"div",children:["\n            ",{$type:s.Button,onClick:"boardMoveLeft",jsxAttributes:["onClick"],children:["Move Left"]},"\n            ",{$type:s.Button,onClick:"boardMoveRight",style:"float:right",jsxAttributes:["onClick","style"],children:["Move Right"]},"\n        "]},"\n\n        ",{$type:o.HtmlElement,tag:"div",layout:{type:a.LabelsTopLayout,mod:"stretch"},jsxAttributes:["layout"],children:["\n            ",{$type:i.TextArea,value:{bind:"$board.headerStyle"},label:"Header Style",placeholder:"color",reactOn:"input",style:"width:100%;",jsxAttributes:["value","label","placeholder","reactOn","style"]},"\n        "]},"\n\n        ",{$type:o.HtmlElement,tag:"div",layout:{type:a.LabelsTopLayout,mod:"stretch"},jsxAttributes:["layout"],children:["\n            ",{$type:i.TextArea,value:{bind:"$board.style"},label:"Board Style",placeholder:"background",reactOn:"input",style:"width:100%;",jsxAttributes:["value","label","placeholder","reactOn","style"]},"\n        "]},"\n\n        ",{$type:o.HtmlElement,tag:"br"},"\n\n        ",{$type:o.HtmlElement,tag:"div",children:["\n            ",{$type:s.Button,onClick:function(t,e){var n=e.store;n.delete("$board.edit")},jsxAttributes:["onClick"],children:["Save"]},"\n            ",{$type:s.Button,mod:"danger",confirm:"All lists and tasks from this board will be deleted. Are you sure?",onClick:"deleteBoard",style:"float:right",jsxAttributes:["mod","confirm","onClick","style"],children:["Delete"]},"\n        "]},"\n        ",{$type:o.HtmlElement,tag:"br"},"\n    "]}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},l=n(52),u=n(91),c=n(57),p=n(87),h=n(22),d=n(146),f=n(83),y=o(f),m=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.store.get("tdo")||this.load(),this.addTrigger("persist",["tdo"],this.persist.bind(this))},e.prototype.persist=function(){var t=this,e=this.store.getData(),n=e.tdo,o=localStorage.gh&&JSON.parse(localStorage.gh);o&&o.token&&o.gistId?(this.saveTaskId&&clearTimeout(this.saveTaskId),this.saveTaskId=setTimeout(function(){delete t.saveTaskId;var e=new p.Gists(o);e.update(n)},5e3)):localStorage.tdo=JSON.stringify(n)},e.prototype.gotoFirstBoard=function(){var t=this.store.get("tdo.boards");t.length>0&&(window.location.hash="#"+t[0].id)},e.prototype.load=function(){var t=this,e=localStorage.gh&&JSON.parse(localStorage.gh);if(e&&e.token&&e.gistId){var n=new p.Gists(e);this.store.set("$page.status","loading"),n.load().then(function(e){(0,d.migrate)(e),t.store.set("tdo",e),t.store.set("$page.status","ok"),t.gotoFirstBoard()}).catch(function(e){console.log(e),t.store.set("$page.status","error")})}else{var o=localStorage.tdo&&JSON.parse(localStorage.tdo)||this.getDefaultData();(0,d.migrate)(o),this.store.set("tdo",o),this.gotoFirstBoard(),0==this.store.get("tdo.lists").length&&this.addList(null,{store:this.store})}},e.prototype.getDefaultData=function(){return{lists:[],tasks:[]}},e.prototype.addList=function(t,e){var n=e.store;t&&t.preventDefault();var o=n.get("$board.id")||n.get("tdo.boards")[0].id;this.store.update("tdo.lists",u.append,{id:(0,y.default)(),name:"New List",edit:!0,createdDate:(new Date).toISOString(),boardId:o})},e.prototype.deleteList=function(t,e){var n=e.store;n.update("$list",function(t){return a({},t,{deleted:!0,deletedDate:(new Date).toISOString()})})},e.prototype.prepareTask=function(t){return{id:(0,y.default)(),listId:t,createdDate:(new Date).toISOString(),isNew:!0}},e.prototype.addTask=function(t,e){var n=e.store,o=n.get("$list.id");this.store.update("tdo.tasks",u.append,this.prepareTask(o)),t.preventDefault()},e.prototype.moveTaskUp=function(t,e){var n=e.store;t.stopPropagation(),t.preventDefault();for(var o=n.getData(),r=o.tdo,i=o.$task,s=r.tasks,a=s.indexOf(i),l=-1,u=a-1;u>=0;u--)if(s[u].listId==i.listId){l=u;break}l!=-1&&this.store.set("tdo.tasks",[].concat(s.slice(0,l),[i],s.slice(l,a),s.slice(a+1)))},e.prototype.moveTaskDown=function(t,e){var n=e.store;t.stopPropagation(),t.preventDefault();for(var o=n.getData(),r=o.tdo,i=o.$task,s=r.tasks,a=s.indexOf(i),l=-1,u=a+1;u<s.length;u++)if(s[u].listId==i.listId){l=u;break}l!=-1&&this.store.set("tdo.tasks",[].concat(s.slice(0,a),s.slice(a+1,l+1),[i],s.slice(l+1)))},e.prototype.moveTaskRight=function(t,e){var n=e.store;t.stopPropagation(),t.preventDefault();var o=n.getData(),r=o.tdo,i=o.$task,s=r.lists,a=s.findIndex(function(t){return t.id==i.listId});a!=-1&&a+1<s.length&&(n.set("$task.listId",s[a+1].id),n.set("activeTaskId",i.id))},e.prototype.moveTaskLeft=function(t,e){var n=e.store;t.stopPropagation(),t.preventDefault();var o=n.getData(),r=o.tdo,i=o.$task,s=r.lists,a=s.findIndex(function(t){return t.id==i.listId});a>0&&(n.set("$task.listId",s[a-1].id),n.set("activeTaskId",i.id))},e.prototype.onTaskKeyDown=function(t,e){var n=e.data.task,o=e.store,r=this.store.get("tdo.tasks");switch(t.keyCode){case c.KeyCode.delete:o.update("$task",function(t){return a({},t,{deleted:!0,deletedDate:(new Date).toISOString()})});break;case c.KeyCode.insert:var i=r.indexOf(n),s=this.prepareTask(n.listId);this.store.set("activeTaskId",s.id),this.store.set("tdo.tasks",[].concat(r.slice(0,i),[s],r.slice(i)));break;case c.KeyCode.up:t.ctrlKey&&this.moveTaskUp(t,e);break;case c.KeyCode.down:t.ctrlKey&&this.moveTaskDown(t,e);break;case c.KeyCode.right:t.ctrlKey&&this.moveTaskRight(t,e);break;case c.KeyCode.left:t.ctrlKey&&this.moveTaskLeft(t,e)}},e.prototype.onTaskListKeyDown=function(t,e){switch(t.keyCode){case c.KeyCode.left:t.currentTarget.previousSibling&&h.FocusManager.focusFirst(t.currentTarget.previousSibling);break;case c.KeyCode.right:t.currentTarget.nextSibling&&h.FocusManager.focusFirst(t.currentTarget.nextSibling)}},e.prototype.listMoveLeft=function(t,e){var n=e.store,o=n.getData(),r=o.tdo,i=o.$list,s=r.lists,a=s.indexOf(i);a>0&&n.set("tdo.lists",[].concat(s.slice(0,a-1),[i,s[a-1]],s.slice(a+1)))},e.prototype.listMoveRight=function(t,e){var n=e.store,o=n.getData(),r=o.tdo,i=o.$list,s=r.lists,a=s.indexOf(i);a+1<s.length&&n.set("tdo.lists",[].concat(s.slice(0,a),[s[a+1],i],s.slice(a+2)))},e.prototype.boardMoveLeft=function(t,e){var n=e.store,o=n.getData(),r=o.tdo,i=o.$board,s=r.boards,a=s.indexOf(i);a>0&&n.set("tdo.boards",[].concat(s.slice(0,a-1),[i,s[a-1]],s.slice(a+1)))},e.prototype.boardMoveRight=function(t,e){var n=e.store,o=n.getData(),r=o.tdo,i=o.$board,s=r.boards,a=s.indexOf(i);a+1<s.length&&n.set("tdo.boards",[].concat(s.slice(0,a),[s[a+1],i],s.slice(a+2)))},e.prototype.deleteBoard=function(t,e){var n=e.store;n.update("$board",function(t){return a({},t,{deleted:!0,deletedDate:(new Date).toISOString()})})},e}(l.Controller);e.default=m},function(t,e,n){"use strict";e.__esModule=!0;var o=n(7),r=n(23),i=n(54),s=n(168),a=n(21),l=n(101);e.default={$type:o.HtmlElement,tag:"div",class:"cxb-listeditor",jsxAttributes:["class"],children:["\n        ",{$type:o.HtmlElement,tag:"div",layout:{type:l.LabelsTopLayout,mod:"stretch"},jsxAttributes:["layout"],children:["\n            ",{$type:r.TextField,value:{bind:"$list.name"},label:"Name",autoFocus:!0,style:"width:100%;",jsxAttributes:["value","label","autoFocus","style"]},"\n        "]},"\n\n        ",{$type:o.HtmlElement,tag:"div",layout:{type:l.LabelsTopLayout,mod:"stretch"},jsxAttributes:["layout"],children:["\n            ",{$type:s.LookupField,value:{bind:"$list.boardId"},label:"Board",options:{bind:"tdo.boards"},optionTextField:"name",style:"width:100%;",jsxAttributes:["value","label","options","optionTextField","style"]},"\n        "]},"\n\n        ",{$type:o.HtmlElement,tag:"br"},"\n\n        ",{$type:o.HtmlElement,tag:"div",children:["\n            ",{$type:a.Button,onClick:"listMoveLeft",jsxAttributes:["onClick"],children:["Move Left"]},"\n            ",{$type:a.Button,onClick:"listMoveRight",style:"float:right",jsxAttributes:["onClick","style"],children:["Move Right"]},"\n        "]},"\n\n        ",{$type:o.HtmlElement,tag:"div",layout:{type:l.LabelsTopLayout,mod:"stretch"},jsxAttributes:["layout"],children:["\n            ",{$type:i.TextArea,value:{bind:"$list.headerStyle"},label:"Header Style",placeholder:"color",reactOn:"input",style:"width:100%;",jsxAttributes:["value","label","placeholder","reactOn","style"]},"\n        "]},"\n\n        ",{$type:o.HtmlElement,tag:"div",layout:{type:l.LabelsTopLayout,mod:"stretch"},jsxAttributes:["layout"],children:["\n            ",{$type:i.TextArea,value:{bind:"$list.listStyle"},label:"List Style",placeholder:"width, background",reactOn:"input",style:"width:100%;",jsxAttributes:["value","label","placeholder","reactOn","style"]},"\n        "]},"\n\n        ",{$type:o.HtmlElement,tag:"br"},"\n\n        ",{$type:o.HtmlElement,tag:"div",children:["\n        ",{$type:a.Button,onClick:function(t,e){var n=e.store;n.delete("$list.edit")},jsxAttributes:["onClick"],children:["Save"]},"\n        ",{$type:a.Button,mod:"danger",confirm:"Are you sure?",onClick:"deleteList",style:"float:right",jsxAttributes:["mod","confirm","onClick","style"],children:["Delete"]},"\n        "]},"\n        ",{$type:o.HtmlElement,tag:"br"},"\n    "]}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.focusTaskOnMount=e.Task=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},l=n(2),u=n(113),c=o(u),p=(e.Task=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.init=function(){this.bind&&(this.task={bind:this.bind}),t.prototype.init.call(this)},e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{task:void 0}]))},e.prototype.render=function(t,e,n){return l.VDOM.createElement(p,{key:n,instance:e})},e}(l.Widget),function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.state={edit:!1,editorRows:1},o.dom={},o}return s(e,t),e.prototype.render=function(){var t=this,e=this.props.instance,n=e.widget,o=e.data,r=n.CSS,i=r.block("task",{},{edit:this.state.edit,completed:!!o.task.completed});return l.VDOM.createElement("div",{className:i,onKeyDown:this.onKeyDown.bind(this),ref:function(e){t.dom.el=e},tabIndex:0,onClick:this.onClick.bind(this),onDoubleClick:function(e){t.toggleEditMode()}},!this.state.edit&&this.renderContent(),this.state.edit&&this.renderEditor())},e.prototype.renderContent=function(){var t=this.props.instance.data,e=t.task.name?(0,c.default)(t.task.name):"<p>&nbsp;</p>";return[l.VDOM.createElement("input",{key:"check",type:"checkbox",checked:!!t.task.completed,onChange:this.onCheck.bind(this),tabIndex:-1,onClick:function(t){t.preventDefault(),t.stopPropagation()}}),l.VDOM.createElement("div",{className:"cxe-task-content",key:"content",dangerouslySetInnerHTML:{__html:e}})]},e.prototype.renderEditor=function(){var t=this,e=this.props.instance.data;return l.VDOM.createElement("textarea",{defaultValue:e.task.name,onMouseDown:function(t){t.stopPropagation()},onKeyDown:this.onEditorKeyDown.bind(this),ref:function(e){t.dom.editor=e},rows:this.state.editorRows,onBlur:this.onEditorBlur.bind(this),onChange:this.onChange.bind(this)})},e.prototype.onCheck=function(t){t.preventDefault(),t.stopPropagation(),this.setCompleted(t.target.checked)},e.prototype.setCompleted=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.props.instance,n=e.data;e.set("task",a({},n.task,{completed:t,completeDate:(new Date).toISOString()}))},e.prototype.onKeyDown=function(t){var e=this.props.instance,n=e.data,o=e.widget;switch(t.keyCode){case 13:t.stopPropagation(),t.preventDefault(),this.toggleEditMode();break;case 32:this.setCompleted(!n.task.completed);break;default:o.onKeyDown&&o.onKeyDown(t,e)}},e.prototype.save=function(t){var e=this.props.instance,n=e.data,o=a({},n.task,{name:t.target.value,lastChange:(new Date).toISOString()});delete o.isNew,e.set("task",o)},e.prototype.onEditorKeyDown=function(t){var e=this.props.instance;e.data;switch(t.keyCode){case 13:t.stopPropagation(),t.ctrlKey&&(this.save(t),this.toggleEditMode());break;case 27:this.save(t),this.toggleEditMode();break;default:t.stopPropagation()}},e.prototype.onEditorBlur=function(t){this.save(t),this.setState({edit:!1})},e.prototype.onChange=function(t){this.componentDidUpdate()},e.prototype.onClick=function(t){t.preventDefault(),t.stopPropagation()},e.prototype.toggleEditMode=function(){var t=this;this.setState({edit:!this.state.edit},function(){t.state.edit?t.dom.editor.focus():t.dom.el.focus()})},e.prototype.componentDidMount=function(){var t=this;this.props.instance.parent.toggleEditMode=this.toggleEditMode.bind(this);var e=this.props.instance,n=e.store,o=e.data;this.dom.el.parentNode.parentNode.parentNode.contains(document.activeElement)&&this.toggleEditMode(),o.task.id==n.get("activeTaskId")&&setTimeout(function(){t.dom.el.focus()},10)},e.prototype.componentDidUpdate=function(){this.state.edit&&(this.dom.editor.style.width=this.dom.editor.scrollWidth+"px",this.dom.editor.scrollHeight>this.dom.editor.offsetHeight&&this.setState({editorRows:this.state.editorRows+1}))},e}(l.VDOM.Component));e.focusTaskOnMount=null},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=e.search,o=e.list;return!t.deleted&&t.listId==o.id&&(!(!t.isNew&&n&&n.query)||(w!=n.query&&(v=n.query.split(" ").map(function(t){return new RegExp(t,"gi")}),w=n.query),t.name&&v.every(function(e){return t.name.match(e)})))}function i(t,e){return t.id==e&&!t.deleted}function s(t,e){return t.boardId==e&&!t.deleted}e.__esModule=!0;var a=n(7),l=n(30),u=(n(53),n(55)),c=(n(54),n(21)),p=n(99),h=(n(48),n(150)),d=n(148),f=o(d),y=n(149),m=o(y),g=n(147),b=o(g),v=null,w=null;e.default={$type:a.HtmlElement,tag:"div",class:"cxb-taskboard",controller:f.default,layout:p.FirstVisibleChildLayout,jsxAttributes:["class","controller","layout"],children:["\n        ",{$type:a.HtmlElement,tag:"div",class:"cxe-taskboard-loading",visible:{expr:"{$page.status}=='loading'"},jsxAttributes:["class","visible"],children:["\n            Loading...\n        "]},"\n        ",{$type:a.HtmlElement,tag:"div",class:"cxe-taskboard-error",visible:{expr:"{$page.status}=='error'"},jsxAttributes:["class","visible"],children:["\n            Error occurred while fetching data from GitHub. ",{$type:c.Button,onClick:"load",jsxAttributes:["onClick"],children:["Retry"]},"\n        "]},"\n        ",{$type:l.Repeater,records:{bind:"tdo.boards"},recordName:"$board",keyField:"id",filter:i,filterParams:{bind:"$route.boardId"},jsxAttributes:["records","recordName","keyField","filter","filterParams"],children:["\n            ",{$type:a.HtmlElement,tag:"div",class:"cxe-taskboard-lists",style:{bind:"$board.style"},jsxAttributes:["class","style"],children:["\n                ",{$type:l.Repeater,records:{bind:"tdo.lists"},recordName:"$list",keyField:"id",filter:s,filterParams:{bind:"$board.id"},jsxAttributes:["records","recordName","keyField","filter","filterParams"],children:["\n                    ",{$type:a.HtmlElement,tag:"div",class:"cxb-tasklist",onKeyDown:"onTaskListKeyDown",style:{bind:"$list.listStyle"},jsxAttributes:["class","onKeyDown","style"],children:["\n                        ",{$type:a.HtmlElement,tag:"h2",class:"cxe-tasklist-header",text:{bind:"$list.name"},style:{bind:"$list.headerStyle"},onDoubleClick:function(t,e){var n=e.store;n.set("$list.edit",!0)},jsxAttributes:["class","text","style","onDoubleClick"]},"\n                        ",{$type:m.default,visible:{expr:"!!{$list.edit}"},jsxAttributes:["visible"]},"\n                        ",{$type:u.Menu,class:"cxe-tasklist-items",jsxAttributes:["class"],children:["\n                            ",{$type:l.Repeater,records:{bind:"tdo.tasks"},recordName:"$task",keyField:"id",filter:r,filterParams:{list:{bind:"$list"},search:{bind:"search"}},jsxAttributes:["records","recordName","keyField","filter","filterParams"],children:["\n                                ",{$type:h.Task,bind:"$task",onKeyDown:"onTaskKeyDown",jsxAttributes:["bind","onKeyDown"]},"\n                            "]},"\n                            ",{$type:a.HtmlElement,tag:"a",class:"cxe-tasklist-add",onClick:"addTask",href:"#",jsxAttributes:["class","onClick","href"],children:["Add Task"]},"\n                        "]},"\n                    "]},"\n                "]},"\n                ",{$type:a.HtmlElement,tag:"div",class:"cxb-tasklist",onKeyDown:"onTaskListKeyDown",jsxAttributes:["class","onKeyDown"],children:["\n                    ",{$type:u.Menu,class:"cxe-tasklist-items",jsxAttributes:["class"],children:["\n                        ",{$type:a.HtmlElement,tag:"a",class:"cxe-tasklist-add",onClick:"addList",href:"#",jsxAttributes:["class","onClick","href"],children:["\n                            Add List\n                        "]},"\n\n                        ",{$type:a.HtmlElement,tag:"a",class:"cxe-tasklist-add",onClick:function(t,e){var n=e.store;t.preventDefault(),n.set("$board.edit",!0)},href:"#",jsxAttributes:["class","onClick","href"],children:["\n                            Edit Board\n                        "]},"\n                    "]},"\n                    ",{$type:b.default,visible:{expr:"!!{$board.edit}"},jsxAttributes:["visible"]},"\n                "]},"\n            "]},"\n        "]},"\n    "]}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(7),r=(n(30),n(53),n(55),n(23),n(97),n(96),n(21),n(9),n(100),n(102),n(48));e.default={$type:o.HtmlElement,tag:"div",class:"cxb-help",jsxAttributes:["class"],children:["\n        ",{$type:r.Md,children:["\n            ## Help\n\n            Double-click is used to edit lists and tasks.\n\n            ### Keyboard Shortcuts (Windows)\n\n            `Up` Move cursor to the previous task\n\n            `Down` Move cursor to the next task\n\n            `Left` Move cursor to the previous list\n\n            `Right` Move cursor to the next list\n\n            `Enter` Edit task at cursor position\n\n            `Space` Mark task as completed\n\n            `Insert` Insert task at cursor position\n\n            `Delete` Delete task\n\n            -----------\n\n            `Ctrl` + `Left` Move task to the previous list\n\n            `Ctrl` + `Right` Move task to the next list\n\n            `Ctrl` + `Up` Move task up\n\n            `Ctrl` + `Down` Move task down\n\n\n        "]},"\n    "]}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(52),a=n(87),l=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.store.set("$page.gh",JSON.parse(localStorage.gh||"{}"))},e.prototype.load=function(){var t=this,e=this.store.get("$page.gh"),n=new a.Gists(e);n.get().then(function(){t.persist()})},e.prototype.create=function(){var t=this,e=this.store.get("$page.gh"),n=new a.Gists(e);n.create(this.store.get("tdo")).then(function(e){t.store.set("$page.gh.gistId",e.id),t.persist()})},e.prototype.persist=function(){this.store.set("$page.gh.verified",!0);var t=this.store.get("$page.gh");localStorage.gh=JSON.stringify(t)},e.prototype.unlink=function(t){t.preventDefault(),this.store.set("$page.gh",null),localStorage.gh=null,this.store.delete("tdo")},e.prototype.changeGist=function(t){t.preventDefault(),this.store.set("$page.gh.verified",!1)},e}(s.Controller);e.default=l},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(7),i=(n(30),n(53),n(55),n(23)),s=n(169),a=n(97),l=n(167),u=n(96),c=n(21),p=n(9),h=n(100),d=n(102),f=n(48),y=n(153),m=o(y);e.default={$type:r.HtmlElement,tag:"div",class:"cxb-settings",controller:m.default,jsxAttributes:["class","controller"],children:["\n        ",{$type:r.HtmlElement,tag:"h2",children:["Settings"]},"\n\n        ",{$type:r.HtmlElement,tag:"h3",children:["GitHub"]},"\n        ",{$type:r.HtmlElement,tag:"div",visible:{expr:"{$page.gh.verified}"},jsxAttributes:["visible"],children:["\n            ",{$type:r.HtmlElement,tag:"p",preserveWhitespace:!0,jsxAttributes:["preserveWhitespace"],children:["\n                Your tasks are persisted to ",{$type:r.HtmlElement,tag:"a",href:{tpl:"https://gist.github.com/mstijak/{$page.gh.gistId}"},jsxAttributes:["href"],children:["this gist"]},".\n            "]},"\n            ",{$type:r.HtmlElement,tag:"p",preserveWhitespace:!0,jsxAttributes:["preserveWhitespace"],children:["\n                ",{$type:r.HtmlElement,tag:"a",href:"#",onClick:"unlink",jsxAttributes:["href","onClick"],children:["Unlink completely"]},"\n                ",{$type:r.HtmlElement,tag:"a",href:"#",onClick:"changeGist",jsxAttributes:["href","onClick"],children:["Switch gists"]},"\n            "]},"\n        "]},"\n        ",{$type:r.HtmlElement,tag:"div",layout:h.LabelsLeftLayout,visible:{expr:"!{$page.gh.verified}"},jsxAttributes:["layout","visible"],children:["\n            ",{$type:f.Md,children:["\n                GitHub gists can be used to store task data. In order to connect with GitHub please [create a GitHub Personal\n                Access Token](https://github.com/settings/tokens) with **gist** scope and paste it below.\n                The token will enable read/write access to your GitHub gists. Tokens are stored in **localStorage**, so don't do\n                this on a public computer.\n            "]},"\n\n            ",{$type:i.TextField,value:{bind:"$page.gh.token"},placeholder:"GitHub Personal Access Token",label:"Token",style:"width: 30rem",jsxAttributes:["value","placeholder","label","style"]},"\n\n\n            ",{$type:u.LabeledContainer,label:"Gist",jsxAttributes:["label"],children:["\n                ",{$type:a.Radio,value:{bind:"$page.initMode"},option:"create",text:"Create a new gist",jsxAttributes:["value","option","text"]},"\n                ",{$type:a.Radio,value:{bind:"$page.initMode"},option:"load",text:"Load an existing gist",jsxAttributes:["value","option","text"]},"\n            "]},"\n\n            ",{$type:p.PureContainer,layout:d.UseParentLayout,visible:{expr:"{$page.initMode}=='load'"},jsxAttributes:["layout","visible"],children:["\n                ",{$type:i.TextField,value:{bind:"$page.gh.gistId"},placeholder:"Gist Identifier",label:"GistId",style:"width: 30rem",jsxAttributes:["value","placeholder","label","style"]},"\n                ",{$type:c.Button,onClick:"load",confirm:"Loading the gist will remove all your locally stored tasks. Do you want to proceed?",jsxAttributes:["onClick","confirm"],children:["\n                    Load\n                "]},"\n            "]},"\n\n            ",{$type:p.PureContainer,layout:d.UseParentLayout,visible:{expr:"{$page.initMode}=='create'"},jsxAttributes:["layout","visible"],children:["\n                ",{$type:c.Button,onClick:"create",jsxAttributes:["onClick"],children:["\n                    Create Gist\n                "]},"\n            "]},"\n        "]},"\n\n        ",{$type:r.HtmlElement,tag:"h3",children:["Maintenance"]},"\n\n        ",{$type:r.HtmlElement,tag:"div",layout:h.LabelsLeftLayout,jsxAttributes:["layout"],children:["\n            ",{$type:s.NumberField,value:{bind:"tdo.settings.completedTasksRetentionDays"},label:"Show completed tasks for",style:"width:5rem",inputStyle:"text-align:center",help:"day(s).",jsxAttributes:["value","label","style","inputStyle","help"]},"\n            ",{$type:s.NumberField,value:{bind:"tdo.settings.deleteCompletedTasksAfterDays"},enabled:{bind:"tdo.settings.deleteCompletedTasks"},style:"width:5rem",inputStyle:"text-align:center",label:{$type:l.Checkbox,value:{bind:"tdo.settings.deleteCompletedTasks"},jsxAttributes:["value"],children:["Delete completed tasks after"]},help:"day(s)",jsxAttributes:["value","enabled","style","inputStyle","label","help"]},"\n            ",{$type:s.NumberField,value:{bind:"tdo.settings.purgeDeletedObjectsAfterDays"},label:"Purge deleted objects after",style:"width:5rem",inputStyle:"text-align:center",help:"day(s)",jsxAttributes:["value","label","style","inputStyle","help"]},"\n        "]},"\n    "]}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=e.Url=function(){function t(){n(this,t)}return t.resolve=function(t){return t.replace("~/",this.base)},t.absolute=function(t){return t.replace("~/",this.absoluteBase)},t.unresolve=function(t){if(0==t.indexOf("~/"))return t;var e=this.absoluteBase||"";return 0==t.indexOf(e)?"~/"+t.substring(e.length):"~/"+t.substring(this.base.length)},t.getAbsoluteBase=function(){return this.absoluteBase},t.isLocal=function(t){
var e=this.getAbsoluteBase();return 0==t.indexOf(e)||0==t.indexOf(this.base)},t.setBase=function(t){t&&"/"==t[t.length-1]||(t+="/"),this.base=t,"undefined"!=typeof window&&(this.absoluteBase=window.location.protocol+"//"+window.location.host+this.base)},t.getOrigin=function(){return window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},t.setBaseFromScript=function(t){for(var e=t.replace("~/",""),n=document.getElementsByTagName("script"),o=0;o<n.length;o++){var r=n[o].src,i=r.indexOf("?");i!=-1&&(r=r.substring(0,i));var s=r.substr(-e.length,e.length);if(s==e){var a=this.getOrigin(),l=r.substring(0==r.indexOf(a)?a.length:0,r.length-e.length);return void this.setBase(l)}}throw new Error("Could not resolve url base from script matching '"+t+"'.")},t}();o.setBase("/")},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.ExposedValueView=void 0;var s=n(41),a=n(8);e.ExposedValueView=function(t){function e(n,i,s,a){o(this,e);var l=r(this,t.call(this));return l.store=n,l.containerBinding=i,l.key=s,l.recordPath=a,l}return i(e,t),e.prototype.getData=function(){var t=this.store.getData(),e=this.containerBinding.value(t)||{},n=e[this.key];return t[this.recordPath]=n,t},e.prototype.setStore=function(t){this.store=t},e.prototype.setKey=function(t){this.key=t},e.prototype.getKey=function(){return this.key},e.prototype.set=function(t,e){if(t instanceof a.Binding&&(t=t.path),t==this.recordPath||0==t.indexOf(this.recordPath+".")){var n=this.getData(),o=a.Binding.get(t).set(n,e);if(o!=n){var r=this.containerBinding.value(o),i=o[this.recordPath],s=Object.assign({},r);s[this.key]=i,this.store.set(this.containerBinding,s)}}else this.store.set(t,e)},e.prototype.delete=function(t){t instanceof a.Binding&&(t=t.path);var e,n,o;if(t==this.recordPath){if(e=this.getData(),n=this.containerBinding.value(e),!n.hasOwnProperty(t))return!1;o=Object.assign({},n),delete o[this.key],this.store.set(this.containerBinding,o)}else if(0==t.indexOf(this.recordPath+".")){e=this.getData();var r=a.Binding.get(t).delete(e);if(r!=e){n=this.containerBinding.value(r);var i=r[this.recordPath];o=Object.assign({},n),o[this.key]=i,this.store.set(this.containerBinding,o)}}else this.store.delete(t)},e}(s.View)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return"object"==("undefined"==typeof t?"undefined":a(t))&&t&&t.structured?t.defaultValue:t}function i(t,e,n){var o={bindings:{},templates:{},expressions:{},functions:{},structures:{}},s=function(){var s=e[l],u=t[l];if("undefined"==typeof s&&u&&(u.bind||u.tpl||u.expr)&&(s=u),null===s)o.functions[l]=function(){return null};else if("object"==("undefined"==typeof s?"undefined":a(s)))s.bind?(o.bindings[l]=s,"undefined"==typeof s.defaultValue&&s!=u&&(s.defaultValue=r(u)),n[l]=s.bind):s.expr?o.expressions[l]=s.expr:s.tpl?o.templates[l]=s.tpl:u&&"object"==("undefined"==typeof u?"undefined":a(u))&&u.structured?o.structures[l]=i(s,s,{}):o.functions[l]=function(){return s};else if("function"==typeof s)o.functions[l]=s;else{if("undefined"==typeof s){if("undefined"==typeof u)return"continue";s=r(u)}o.functions[l]=function(){return s}}};for(var l in t){s()}return o}function s(t){var e={};for(var n in t.bindings){var o=t.bindings[n],r=l.Binding.get(o.bind);e[n]=r.value}for(var i in t.templates){var a=t.templates[i];e[i]=c.StringTemplate.compile(a)}for(var h in t.expressions){var d=t.expressions[h];e[h]=u.Expression.compile(d)}for(var f in t.functions){var y=t.functions[f];e[f]=y.memoize?y.memoize():y}for(var m in t.structures)e[m]=s(t.structures[m]);var g=(0,p.createStructuredSelector)(e);return g}e.__esModule=!0,e.StructuredSelector=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=n(8),u=n(49),c=n(40),p=n(159);e.StructuredSelector=function(){function t(e){var n=e.props,r=e.values;o(this,t),this.nameMap={},this.config=i(n,r,this.nameMap)}return t.prototype.init=function(t){for(var e in this.config.bindings){var n=this.config.bindings[e];"undefined"!=typeof n.defaultValue&&t.init(n.bind,n.defaultValue)}},t.prototype.create=function(){return s(this.config)},t}()},function(t,e,n){"use strict";function o(t,e){var n=(t||[]).map(function(t){var n=(0,s.getSelector)(t.value);return{getter:e?function(t){return n(e(t))}:n,factor:t.direction&&"d"==t.direction[0].toLowerCase()?-1:1}});return function(t,e){for(var o=0;o<n.length;o++){var r=n[o],i=r.getter(t),s=r.getter(e);if(i<s)return-r.factor;if(i>s)return r.factor}return 0}}function r(t,e){var n=o(t,e);return function(t){var e=Array.from({length:t.length},function(t,e){return e});return e.sort(function(e,o){return n(t[e],t[o])}),e}}function i(t,e){var n=o(t,e);return function(t){var e=[].concat(t);return e.sort(n),e}}e.__esModule=!0,e.getComparer=o,e.indexSorter=r,e.sorter=i;var s=n(160)},function(t,e){"use strict";function n(t){var e=Object.keys(t),n={};return function(o){for(var r=n,i=0;i<e.length;i++){var s=e[i],a=t[s](o);if(r==n&&a!==n[s]){r={};for(var l=0;l<i;l++)r[e[l]]=n[e[l]]}r[s]=a}return n=r}}e.__esModule=!0,e.createStructuredSelector=n},function(t,e,n){"use strict";function o(t){if(null==t)return l;switch("undefined"==typeof t?"undefined":r(t)){case"object":if(t.bind){var e=i.Binding.get(t.bind);return e.value}if(t.tpl)return a.StringTemplate.get(t.tpl);if(t.expr)return s.Expression.get(t.expr);break;case"function":return t;default:return function(){return t}}}e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getSelector=o;var i=n(8),s=n(49),a=n(40),l=function(){return null}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.CSS=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(51),s=n(108),a=e.CSS=function(){function t(){o(this,t)}return t.resolve=function(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o="undefined"==typeof n?"undefined":r(n);if("string"==o)t.push(n);else if("object"==o)if(Array.isArray(n))t.push.apply(t,this.resolve.apply(this,n));else for(var i in n)n[i]&&t.push(i)}}return t},t.block=function(t,e,n){var o=this,r=[];return t&&r.push(this.classPrefix+"b-"+t),r.push.apply(r,this.resolve(e).map(function(t){return o.classPrefix+"m-"+t})),r.push.apply(r,this.resolve(n).map(function(t){return o.classPrefix+"s-"+t})),r.join(" ")||null},t.element=function(t,e,n){var o=this;if(t&&e)return[this.classPrefix+"e-"+t+"-"+e].concat(this.resolve(n).map(function(t){return o.classPrefix+"s-"+t})).join(" ")||null},t.state=function(t){var e=this;return[].concat(this.resolve(t).map(function(t){return e.classPrefix+"s-"+t})).join(" ")||null},t.expand=function(){return this.resolve.apply(this,arguments).join(" ")||null},t.parseStyle=function(t){return(0,s.parseStyle)(t)},t}();a.classPrefix="cx",i.CSSHelper.alias("cx",a)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return null!=t&&"undefined"!=typeof t.content?t:{content:t}}e.__esModule=!0,e.InstanceCache=e.Instance=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},a=n(52),l=n(28),u=n(56),c=1e3,p=e.Instance=function(){function t(e,n){o(this,t),this.widget=e,this.key=n,this.id=String(++c)}return t.prototype.setStore=function(t){this.store=t},t.prototype.init=function(t){if(this.widget.initialized||(this.widget.init(),this.widget.initialized=!0),this.cached={},this.dataSelector||(this.widget.selector.init(this.store),this.dataSelector=this.widget.selector.create()),this.widget.controller&&(this.controller=a.Controller.create(this.widget.controller,{widget:this.widget,instance:this,store:this.store})),this.widget.helpers){this.helpers={};for(var e in this.widget.helpers){var n=this.widget.helpers[e];if(n){var o=this.getChild(t,n,"helper-"+e);this.helpers[e]=o}}}if(this.widget.components){this.components={};for(var e in this.widget.components){var r=this.widget.components[e];if(r){var o=this.getChild(t,r,"helper-"+e);this.components[e]=o}}}this.widget.initInstance(t,this),this.widget.initState(t,this),this.initialized=!0},t.prototype.explore=function(t){this.initialized||this.init(t);var e=this.dataSelector(this.store.getData());if(this.visible=this.widget.checkVisible(t,this,e),!this.visible)return delete this.instanceCache,!1;this.instanceCache&&this.instanceCache.mark();var n=t.controller;if(this.parentOptions=t.parentOptions,!this.controller&&t.controller&&(this.controller=t.controller),this.controller&&(this.widget.controller&&this.controller.prepare(t),t.controller=this.controller),this.pure=this.widget.pure,this.rawData=e,this.shouldUpdate=this.rawData!==this.cached.rawData||this.cached.state!==this.state||this.cached.widgetVersion!==this.widget.version||this.cached.globalCacheIdentifier!==u.GlobalCacheIdentifier.get(),this.widget.memoize||(this.shouldUpdate=!0),this.shouldUpdate&&(this.data=s({},this.rawData),this.widget.prepareData(t,this),l.Debug.log(l.processDataFlag,this.widget)),this.helpers)for(var o in this.helpers)this.helpers[o].explore(t);if(this.widget.explore(t,this,e),this.widget.onExplore&&this.widget.onExplore(t,this),this.widget.isContent){if(t.contentPlaceholder){var r=t.contentPlaceholder[this.widget.putInto];r&&r(this)}t.content||(t.content={}),t.content[this.widget.putInto]=this}if(this.widget.outerLayout){this.outerLayout=this.parent.getChild(t,this.widget.outerLayout,null,this.store),this.shouldRenderContent=!1,t.content||(t.content={});var i=t.content.body;t.content.body=this,this.outerLayout.explore(t),this.outerLayout.shouldUpdate&&(this.shouldUpdate=!0),t.content.body=i}return t.controller=n,this.shouldUpdate&&(this.parent.shouldUpdate=!0),this.pure||(this.parent.pure=!1),!0},t.prototype.prepare=function(t){if(this.visible){if(this.shouldUpdate||!this.pure){if(this.helpers)for(var e in this.helpers){var n=this.helpers[e];n.prepare(t),n.shouldUpdate&&(this.shouldUpdate=!0)}l.Debug.log(l.prepareFlag,this.widget),this.widget.prepare(t,this),this.shouldUpdate&&(this.parent.shouldUpdate=!0)}this.shouldUpdate&&l.Debug.log(l.shouldUpdateFlag,this.widget,this.shouldUpdate),this.outerLayout&&this.widget.outerLayout&&this.outerLayout.prepare(t)}},t.prototype.render=function(t,e){if(this.visible&&(!this.widget.isContent||this.shouldRenderContent)){if(this.outerLayout&&this.widget.outerLayout&&!this.shouldRenderContent)return this.outerLayout.render(t,e);this.cached.rawData=this.rawData,this.cached.state=this.state,this.cached.widgetVersion=this.widget.version,this.cached.visible=!0,this.cached.globalCacheIdentifier=u.GlobalCacheIdentifier.get();var n=this.widget.memoize&&this.shouldUpdate===!1&&this.cached.vdom?this.cached.vdom:r(this.widget.render(t,this,(null!=e?e+"-":"")+this.widget.widgetId));return this.shouldUpdate&&l.Debug.log(l.renderFlag,this.widget,(null!=e?e+"-":"")+this.widget.widgetId),this.widget.memoize&&(this.cached.vdom=n),n}},t.prototype.cleanup=function(t){if(this.visible&&(this.outerLayout&&(this.widget.outerLayout?this.outerLayout.cleanup(t):delete this.outerLayout),!this.pure||this.shouldUpdate)){if(l.Debug.log(l.cleanupFlag,this.widget),this.components)for(var e in this.components)this.components[e].cleanup(t);if(this.controller&&this.controller.cleanup(t),this.widget.cleanup(t,this),this.helpers)for(var e in this.helpers)this.helpers[e].cleanup(t);this.instanceCache&&this.instanceCache.sweep()}},t.prototype.setState=function(t){var e=this.state;if(this.state)for(var n in t)if(this.state[n]!==t[n]){e=!1;break}e||(this.cached.state=this.state,this.state=Object.assign({},this.state,t),this.store.notify())},t.prototype.set=function(t,e){var n=this.widget[t];if(n&&"object"==("undefined"==typeof n?"undefined":i(n)))if(n.set){if("function"==typeof n.set)return n.set(e,this),!0;if("string"==typeof n.set)return this.controller[n.set](e,this),!0}else{if(n.action){var o=n.action(e,this);return this.store.dispatch(o),!0}if(n.bind)return this.store.set(n.bind,e),!0}return!1},t.prototype.replaceState=function(t){this.cached.state=this.state,this.state=t,this.store.notify()},t.prototype.getInstanceCache=function(){return this.instanceCache||(this.instanceCache=new h(this)),this.instanceCache},t.prototype.clearChildrenCache=function(){delete this.instanceCache},t.prototype.getChild=function(t,e,n,o){return this.getInstanceCache().getChild(e,o||this.store,n)},t.prototype.prepareRenderCleanupChild=function(t,e,n,o){return t.prepareRenderCleanup(e||this.store,o,n,this)},t}(),h=e.InstanceCache=function(){function t(e){o(this,t),this.children={},this.parent=e,this.marked={}}return t.prototype.getChild=function(t,e,n){var o=(null!=n?n+"-":"")+t.widgetId,r=this.children[o];return r||(r=new p(t,o),r.parent=this.parent,this.children[o]=r),r.store!=e&&r.setStore(e),this.marked[o]=r,r},t.prototype.mark=function(){this.marked={}},t.prototype.sweep=function(){this.children=this.marked},t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;e.RenderingContext=function t(e){n(this,t),this.options=e||{}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){if(s.length)return s.pop();var t=String(i++);return t}function r(t){s.push(t),delete a[t]}e.__esModule=!0;var i=1,s=[],a={};window.addEventListener("resize",function(){return l.notify()});var l=e.ResizeManager=function(){function t(){n(this,t)}return t.subscribe=function(t){var e=o();return a[e]=t,function(){r(e)}},t.notify=function(){Object.keys(a).forEach(function(t){var e=a[t];e&&e()})},t}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Sandbox=void 0;var s=n(2),a=n(9),l=n(8),u=n(156),c=e.Sandbox=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.storageBinding=l.Binding.get(this.storage.bind)},e.prototype.initInstance=function(t,e){e.store=new u.ExposedValueView(e.store,this.storageBinding,null,this.recordName),e.setStore=function(t){e.store.setStore(t)}},e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{storage:void 0,key:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.prepareData=function(e,n){var o=n.store,r=n.data;o.getKey()!==r.key&&(n.store=new u.ExposedValueView(o,this.storageBinding,r.key,this.recordName),n.clearChildrenCache()),t.prototype.prepareData.call(this,e,n)},e}(a.PureContainer);c.prototype.recordName="$page",s.Widget.alias("sandbox",c)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.StaticText=void 0;var s=n(2),a=e.StaticText=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(){return this.text},e}(s.Widget);s.Widget.alias("static-text",a)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Checkbox=void 0;var s=n(2),a=n(31),l=n(20),u=n(19),c=e.Checkbox=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){this.checked&&(this.value=this.checked),t.prototype.init.call(this)},e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{value:!1,text:void 0,readOnly:void 0,disabled:void 0,required:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.renderWrap=function(t,e,n,o){var r=e.data;return s.VDOM.createElement("label",{key:n,className:r.classNames,onMouseDown:u.stopPropagation,onMouseMove:function(t){return(0,l.tooltipMouseMove)(t,e)},onMouseLeave:function(t){return(0,l.tooltipMouseLeave)(t,e)},style:r.style},o)},e.prototype.renderInput=function(t,e,n){var o=this,r=e.data,i=r.text||(0,s.getContent)(this.renderChildren(t,e)),a=this.CSS,l=this.baseClass;return this.renderWrap(t,e,n,[s.VDOM.createElement("input",{key:"input",className:a.element(l,"checkbox"),id:r.id,type:"checkbox",checked:r.value||!1,disabled:r.disabled,onClick:u.stopPropagation,onChange:function(t){o.handleChange(t,e)}}),i&&s.VDOM.createElement("div",{key:"text",className:a.element(this.baseClass,"text")},i)])},e.prototype.formatValue=function(t,e){var n=e.data;return n.value&&n.text},e.prototype.handleChange=function(t,e){t.preventDefault(),t.stopPropagation();var n=e.data;n.readOnly||e.set("value",t.target.checked)},e}(a.Field);c.prototype.baseClass="checkbox",s.Widget.alias("checkbox",c)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return t.filter(function(t){return t.key}).map(function(t){return m.Binding.get(t.remote).value(e)})}function a(t,e){if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function l(t,e){var n={$value:{}};return t.forEach(function(t){var o=m.Binding.get(t.remote).value(e);n=m.Binding.get(t.local).set(n,o)}),n.$value}e.__esModule=!0,e.LookupField=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},c=n(2),p=n(31),h=n(94),d=n(50),f=n(30),y=n(7),m=n(8),g=n(33),b=n(103),v=n(22),w=n(24),x=n(107),k=n(20),C=n(19),O=e.LookupField=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e,n=this.multiple?{values:void 0,records:void 0}:{value:void 0,text:void 0};(e=t.prototype.declareData).call.apply(e,[this,{disabled:void 0,enabled:void 0,placeholder:void 0,required:void 0,options:void 0},n].concat(Array.prototype.slice.call(arguments)))},e.prototype.init=function(){if(!this.bindings){var e=[];this.value&&this.value.bind&&e.push({key:!0,local:this.value.bind,remote:"$option."+this.optionIdField}),this.text&&this.text.bind&&e.push({local:this.text.bind,remote:"$option."+this.optionTextField}),this.bindings=e}0==this.bindings.length&&this.multiple&&(this.bindings=[{key:!0,local:"$value."+this.valueIdField,remote:"$option."+this.optionIdField},{local:"$value."+this.valueTextField,remote:"$option."+this.optionTextField}]),this.keyBindings=this.bindings.filter(function(t){return t.key}),this.items||this.children||(this.items={$type:h.Text,bind:"$option."+this.optionTextField}),this.itemConfig=this.children||this.items,delete this.items,delete this.children,t.prototype.init.call(this)},e.prototype.prepareData=function(e,n){var o=this,r=n.data,i=n.store;if(r.stateMods={multiple:this.multiple,disabled:r.disabled},t.prototype.prepareData.call(this,e,n),r.selectedKeys=[],this.multiple){var u;if(Array.isArray(r.values)&&Array.isArray(r.options)){r.selectedKeys=r.values.map(function(t){return 1==o.keyBindings.length?[t]:t});var c={};r.options.filter(function(t){for(var e=s(o.keyBindings,{$option:t}),n=0;n<r.selectedKeys.length;n++)if(a(e,r.selectedKeys[n])){c[n]=l(o.bindings,{$option:t});break}}),r.records=[];for(var p=0;p<r.selectedKeys.length;p++)c[p]&&r.records.push(c[p])}else Array.isArray(r.records)&&(u=r.selectedKeys).push.apply(u,r.records.map(function(t){return o.keyBindings.map(function(e){return m.Binding.get(e.local).value({$value:t})})}))}else{var h=i.getData();if(r.selectedKeys.push(this.keyBindings.map(function(t){return m.Binding.get(t.local).value(h)})),!this.text&&Array.isArray(r.options)){var d=r.options.find(function(t){return a(s(o.keyBindings,{$option:t}),r.selectedKeys[0])});r.text=d&&d[this.optionTextField]||""}}},e.prototype.renderInput=function(t,e,n){return c.VDOM.createElement(D,{key:n,multiple:this.multiple,instance:e,itemConfig:this.itemConfig,bindings:this.bindings,baseClass:this.baseClass,onQuery:this.onQuery})},e.prototype.filterOptions=function(t,e,n){var o=this;if(!n)return e;var r=n.split(" ").map(function(t){return new RegExp(t,"gi")});return e.filter(function(t){return"string"==typeof t[o.optionTextField]&&r.every(function(e){return t[o.optionTextField].match(e)})})},e}(p.Field);O.prototype.baseClass="lookupfield",O.prototype.memoize=!1,O.prototype.multiple=!1,O.prototype.queryDelay=150,O.prototype.minQueryLength=0,O.prototype.hideSearchField=!1,O.prototype.minOptionsForSearchField=7,O.prototype.loadingText="Loading...",O.prototype.queryErrorText="Error occurred while querying for lookup data.",O.prototype.noResultsText="No results found matching the given criteria.",O.prototype.optionIdField="id",O.prototype.optionTextField="text",O.prototype.valueIdField="id",O.prototype.valueTextField="text",O.prototype.suppressErrorTooltipsUntilVisited=!0,c.Widget.alias("lookupfield",O);var D=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n)),s=i.props.instance,a=s.data,l=s.store;return i.dom={},i.state={options:[],formatted:a.formatted,value:a.formatted,dropdownOpen:!1,cursorKey:null,visited:a.visited},i.itemStore=new d.ReadOnlyDataView(l),i}return i(e,t),e.prototype.getOptionKey=function(t){return this.props.bindings.filter(function(t){return t.key}).map(function(e){return m.Binding.get(e.remote).value(t)})},e.prototype.getLocalKey=function(t){return this.props.bindings.filter(function(t){return t.key}).map(function(e){return m.Binding.get(e.local).value(t)})},e.prototype.areKeysEqual=function(t,e){if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},e.prototype.findOption=function(t,e){if(!e)return-1;for(var n=0;n<t.length;n++){var o=this.getOptionKey({$option:t[n]});if(this.areKeysEqual(e,o))return n}return-1},e.prototype.setCursorKey=function(t){var e=this.getOptionKey(t);this.setState({cursorKey:e})},e.prototype.suggestCursorKey=function(t){var e=this.findOption(t,this.state.cursorKey);if(e!=-1)return this.state.cursorKey;var n=this.props.instance,o=n.data,r=n.store,i=r.getData();if(o.value){var s=this.props.bindings.filter(function(t){return t.key}).map(function(t){return m.Binding.get(t.local).value(i)});if(e=this.findOption(t,s),e!=-1)return s}return t.length>0?this.getOptionKey({option:t[0]}):null},e.prototype.getDropdown=function(){var t=this;if(this.dropdown)return this.dropdown;var e=this.props.instance.widget,n=e.CSS,o=e.baseClass;this.list=c.Widget.create({$type:y.HtmlElement,tag:"ul",class:n.element(o,"lookup-options"),jsxAttributes:["class"],children:["\n            ",{$type:f.Repeater,records:{bind:"$options"},recordName:"$option",jsxAttributes:["records","recordName"],children:["\n               ",{$type:y.HtmlElement,tag:"li","data-option":{bind:"$option"},memoize:!1,class:{selected:function(e){return null!=t.props.instance.data.selectedKeys.find(function(n){return t.areKeysEqual(n,t.getOptionKey(e))})},cursor:function(e){return t.areKeysEqual(t.getOptionKey(e),t.state.cursorKey)}},children:this.props.itemConfig,onMouseDown:function(t){t.preventDefault()},onMouseEnter:function(e,n){var o=n.store;t.setCursorKey(o.getData())},onClick:function(e,n){return t.onItemClick(e,n)},jsxAttributes:["data-option","memoize","class","children","onMouseDown","onMouseEnter","onClick"]},"\n            "]},"\n         "]});var r=u({type:b.Dropdown,relatedElement:this.dom.input,scrollTracking:!0,inline:!0,renderContents:this.renderContents.bind(this),onFocusOut:this.closeDropdown.bind(this),memoize:!1,constrain:!0,placementOrder:"down-right down-left up-right up-left",onMeasureDropdownNaturalSize:function(){if(t.dom.dropdown&&t.dom.list)return{height:t.dom.dropdown.offsetHeight+t.dom.list.scrollHeight-t.dom.list.offsetHeight}}},e.dropdownOptions);return this.dropdown=c.Widget.create(r)},e.prototype.renderContents=function(){var t,e=this,n=this.props.instance,o=n.data,r=n.widget,i=r.CSS,s=r.baseClass,a=!r.hideSearchField&&(!Array.isArray(o.options)||r.minOptionsForSearchField&&o.options.length>=r.minOptionsForSearchField);return t="loading"==this.state.status?c.VDOM.createElement("div",{key:"msg",className:i.element(s,"message","loading")},r.loadingText):"error"==this.state.status?c.VDOM.createElement("div",{key:"msg",className:i.element(s,"message","error")},r.queryErrorText):"info"==this.state.status?c.VDOM.createElement("div",{key:"msg",className:i.element(s,"message","info")},this.state.message):0==this.state.options.length?c.VDOM.createElement("div",{key:"msg",className:i.element(s,"message","no-results")},r.noResultsText):c.VDOM.createElement("div",{key:"msg",ref:function(t){e.dom.list=t},className:i.element(s,"scroll-container"),onWheel:this.onListWheel.bind(this)},n.prepareRenderCleanupChild(this.list,this.itemStore,"list",{name:"lookupfield-list"})),c.VDOM.createElement("div",{ref:function(t){e.dom.dropdown=t},className:i.element(s,"dropdown"),tabIndex:0,onFocus:this.onDropdownFocus.bind(this),onKeyDown:function(t){return e.onDropdownKeyPress(t)}},a&&c.VDOM.createElement("input",{key:"query",ref:function(t){e.dom.query=t},type:"text",className:i.element(s,"query"),onClick:function(t){t.preventDefault(),t.stopPropagation()},onChange:function(t){return e.query(t.target.value)},onBlur:function(t){return e.onQueryBlur(t)}}),t)},e.prototype.onListWheel=function(t){var e=this.dom.list;(e.scrollTop+e.offsetHeight==e.scrollHeight&&t.deltaY>0||0==e.scrollTop&&t.deltaY<0)&&(t.preventDefault(),t.stopPropagation())},e.prototype.onDropdownFocus=function(t){!this.dom.query||(0,w.isFocused)(this.dom.query)||(0,x.isTouchDevice)()||v.FocusManager.focus(this.dom.query)},e.prototype.getPlaceholder=function(t){var e=this.props.instance.widget,n=e.CSS,o=e.baseClass;return t?c.VDOM.createElement("span",{className:n.element(o,"placeholder")},t):c.VDOM.createElement("span",{className:n.element(o,"placeholder")},"Â ")},e.prototype.render=function(){var t,e=this,n=this.props.instance,o=n.data,r=n.widget,i=r.CSS,s=r.baseClass;this.state.dropdownOpen&&(this.itemStore.setData({$options:this.state.options}),t=n.prepareRenderCleanupChild(this.getDropdown(),this.itemStore,"dropdown",{name:"lookupfield-dropdown"}));var a,l=o.disabled||o.readOnly,u=!l&&!this.props.multiple&&!o.required&&null!=o.value&&c.VDOM.createElement("span",{onMouseDown:function(t){t.preventDefault()},onClick:function(t){return e.onClearClick(t)},className:i.element(s,"clear")});return a=this.props.multiple?Array.isArray(o.records)&&o.records.length>0?o.records.map(function(t,n){return c.VDOM.createElement("div",{key:n,className:i.element(s,"tag")},c.VDOM.createElement("span",{className:i.element(s,"tag-value")},t[r.valueTextField]),!l&&c.VDOM.createElement("span",{className:i.element(s,"tag-clear"),onMouseDown:function(t){t.preventDefault(),t.stopPropagation()},onClick:function(n){return e.onClearClick(n,t)}}))}):this.getPlaceholder(o.placeholder):null!=o.value?o.text||this.getPlaceholder():this.getPlaceholder(o.placeholder),c.VDOM.createElement("div",{className:i.expand(o.classNames,i.state({visited:o.visited||this.state&&this.state.visited})),style:o.style,onMouseDown:C.stopPropagation,onTouchStart:C.stopPropagation},c.VDOM.createElement("div",{id:o.id,className:i.element(r.baseClass,"input"),tabIndex:o.disabled?null:0,ref:function(t){e.dom.input=t},onMouseMove:function(t){return(0,k.tooltipMouseMove)(t,e.props.instance,e.state)},onMouseLeave:function(t){return(0,k.tooltipMouseLeave)(t,e.props.instance)},onClick:function(t){return e.onClick(t)},onInput:function(t){return e.onChange(t,"input")},onChange:function(t){return e.onChange(t,"change")},onKeyDown:function(t){return e.onKeyDown(t)},onMouseDown:function(t){return e.onMouseDown(t)},onBlur:function(t){return e.onBlur(t)},onFocus:function(t){return e.onFocus(t)}},a),u,t)},e.prototype.onClick=function(t){t.stopPropagation(),t.preventDefault(),this.openDropdown(t)},e.prototype.onItemClick=function(t,e){var n=e.store;this.select(t,n.getData()),t.stopPropagation(),t.preventDefault()},e.prototype.onClearClick=function(t,e){var n=this,o=this.props.instance,r=o.data,i=o.store,s=o.widget,a=s.keyBindings;if(t.stopPropagation(),t.preventDefault(),s.multiple){if(Array.isArray(r.records)){var l=this.getLocalKey({$value:e}),u=r.records.filter(function(t){return!n.areKeysEqual(n.getLocalKey({$value:t}),l)});o.set("records",u);var c=u.map(function(t){return n.getLocalKey({$value:t})}).map(function(t){return 1==a.length?t[0]:t});o.set("values",c)}}else this.props.bindings.forEach(function(t){i.set(t.local,null)});this.dom.input.focus()},e.prototype.select=function(t,e){var n=this,o=this.props.instance,r=o.store,i=o.data,s=o.widget,a=s.bindings,l=s.keyBindings;if(s.multiple){var u=i.selectedKeys,c=i.records,p=this.getOptionKey(e),h=c;if(u.find(function(t){return n.areKeysEqual(p,t);
}))h=c.filter(function(t){return!n.areKeysEqual(p,n.getLocalKey({$value:t}))});else{var d={$value:{}};a.forEach(function(t){d=m.Binding.get(t.local).set(d,m.Binding.get(t.remote).value(e))}),h=[].concat(c||[],[d.$value])}o.set("records",h);var f=h.map(function(t){return n.getLocalKey({$value:t})}).map(function(t){return 1==l.length?t[0]:t});o.set("values",f)}else a.forEach(function(t){r.set(t.local,m.Binding.get(t.remote).value(e))});this.closeDropdown(t),this.dom.input.focus()},e.prototype.onDropdownKeyPress=function(t){if(13==t.keyCode){var e=this.findOption(this.state.options,this.state.cursorKey),n={$option:this.state.options[e]};this.select(t,n)}if(27==t.keyCode&&(this.closeDropdown(t),this.dom.input.focus()),38==t.keyCode){var e=this.findOption(this.state.options,this.state.cursorKey);e>0&&this.setCursorKey({$option:this.state.options[e-1]})}if(40==t.keyCode){var e=this.findOption(this.state.options,this.state.cursorKey);e+1<this.state.options.length&&this.setCursorKey({$option:this.state.options[e+1]})}},e.prototype.onKeyDown=function(t){switch(t.keyCode){case 46:return void this.onClearClick(t);case 16:case 17:case 9:break;default:this.openDropdown(t)}},e.prototype.onMouseDown=function(t){t.preventDefault(),t.stopPropagation(),this.openDropdown(t)},e.prototype.onQueryBlur=function(t){v.FocusManager.nudge()},e.prototype.onFocus=function(t){},e.prototype.onBlur=function(t){this.state.dropdownOpen||this.setState({visited:!0})},e.prototype.closeDropdown=function(t){this.state.dropdownOpen&&this.setState({dropdownOpen:!1,cursorKey:null,visited:!0})},e.prototype.openDropdown=function(t){var e=this,n=this.props.instance.data;this.state.dropdownOpen||n.disabled||n.readOnly||(this.query(""),this.setState({dropdownOpen:!0},function(){e.dom.dropdown.focus()}))},e.prototype.query=function(t){var e=this,n=this.props.instance,o=n.widget,r=n.data;if(this.queryTimeoutId&&clearTimeout(this.queryTimeoutId),t.length<o.minQueryLength)return void this.setState({status:"info",message:"Please type in at least "+o.minQueryLength+" character(s) to start the search."});if(Array.isArray(r.options)){var i=o.filterOptions(this.props.instance,r.options,t);this.setState({options:i,cursorKey:this.suggestCursorKey(i),status:"loaded"})}this.props.onQuery&&(this.setState({status:"loading"}),this.queryTimeoutId=setTimeout(function(){delete e.queryTimeoutId;var n=e.props.onQuery(t,e.props.instance);Promise.resolve(n).then(function(t){e.setState({options:t,cursorKey:e.suggestCursorKey(t),status:"loaded"})}).catch(function(t){e.setState({status:"error"}),g.Console.log("Lookup query error:",t)})},o.queryDelay))},e.prototype.componentWillReceiveProps=function(t){t.instance.data.visited&&this.setState({visited:!0}),(0,k.tooltipComponentWillReceiveProps)(this.dom.input,t.instance,this.state)},e.prototype.componentDidMount=function(){(0,k.tooltipComponentDidMount)(this.dom.input,this.props.instance,this.state),this.props.instance.data.autoFocus&&this.dom.input.focus()},e.prototype.componentWillUnmount=function(){this.queryTimeoutId&&clearTimeout(this.queryTimeoutId),(0,k.tooltipComponentWillUnmount)(this.dom.input)},e}(c.VDOM.Component)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.NumberField=void 0;var s=n(2),a=n(31),l=n(105),u=n(92),c=n(40),p=n(20),h=n(19),d=e.NumberField=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{value:void 0,disabled:void 0,readOnly:void 0,enabled:void 0,placeholder:void 0,required:void 0,format:void 0,minValue:void 0,maxValue:void 0,minExclusive:void 0,maxExclusive:void 0,incrementPercentage:void 0,increment:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.prepareData=function(e,n){t.prototype.prepareData.call(this,e,n);var o=n.data;o.formatted=l.Format.value(o.value,o.format)},e.prototype.formatValue=function(t,e){var n=e.data;return n.formatted},e.prototype.validate=function(e,n){t.prototype.validate.call(this,e,n);var o=n.data;"number"!=typeof o.value||o.error||("number"==typeof o.minValue&&(o.value<o.minValue?o.error=c.StringTemplate.format(this.minValueErrorText,o.minValue):o.value==o.minValue&&o.minExclusive&&(o.error=c.StringTemplate.format(this.minExclusiveErrorText,o.minValue))),"number"==typeof o.maxValue&&(o.value>o.maxValue?o.error=c.StringTemplate.format(this.maxValueErrorText,o.maxValue):o.value==o.maxValue&&o.maxExclusive&&(o.error=c.StringTemplate.format(this.maxExclusiveErrorText,o.maxValue))))},e.prototype.renderInput=function(t,e,n){var o=this;return s.VDOM.createElement(f,{key:n+"-content",data:e.data,instance:e,inputType:"text",handleChange:function(t,n,r){return o.handleChange(t,n,e,r)}})},e.prototype.handleChange=function(t,e,n,o){this.reactOn.indexOf(e)!=-1&&(n.setState({inputError:!1}),n.set("value",o))},e}(a.Field);d.prototype.baseClass="numberfield",d.prototype.reactOn="input wheel blur",d.prototype.format="n",d.prototype.maxValueErrorText="The number should be at most {0:n}.",d.prototype.maxExclusiveErrorText="The number should be less than {0:n}.",d.prototype.minValueErrorText="The number should be at least {0:n}.",d.prototype.minExclusiveErrorText="The number should be greater than {0:n}.",d.prototype.suppressErrorTooltipsUntilVisited=!0,d.prototype.incrementPercentage=.1,d.prototype.snapToIncrement=!0,s.Widget.alias("numberfield",d);var f=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n));return i.data=n.instance.data,i.state={visited:n.instance.data.visited},i}return i(e,t),e.prototype.shouldComponentUpdate=function(t,e){return t.instance.shouldUpdate||e!=this.state},e.prototype.render=function(){var t=this,e=this.props.instance,n=e.data,o=e.widget,r=o.CSS,i=o.baseClass;return s.VDOM.createElement("div",{className:r.expand(n.classNames,r.state({visited:n.visited||this.state&&this.state.visited})),style:n.style,onMouseDown:h.stopPropagation,onTouchStart:h.stopPropagation},s.VDOM.createElement("input",{id:n.id,type:this.props.inputType,className:r.element(i,"input"),defaultValue:n.formatted,ref:function(e){t.input=e},style:n.inputStyle,disabled:n.disabled,readOnly:n.readOnly,placeholder:n.placeholder,onMouseMove:function(e){return(0,p.tooltipMouseMove)(e,t.props.instance,t.state)},onMouseLeave:function(e){return(0,p.tooltipMouseLeave)(e,t.props.instance)},onInput:function(e){return t.onChange(e,"input")},onChange:function(e){return t.onChange(e,"change")},onKeyDown:function(e){13==e.keyCode&&t.onChange(e,"enter")},onBlur:function(e){t.onChange(e,"blur")},onWheel:function(e){t.onChange(e,"wheel")},onClick:h.stopPropagation}))},e.prototype.componentWillReceiveProps=function(t){var e=t.instance,n=e.data,o=e.state;this.input.value==t.data.formatted||this.data.formatted==n.formatted&&o.inputError||(this.input.value=t.data.formatted||"",t.instance.setState({inputError:!1})),this.data=n,n.visited&&this.setState({visited:!0}),(0,p.tooltipComponentWillReceiveProps)(this.input,t.instance,this.state)},e.prototype.componentDidMount=function(){(0,p.tooltipComponentDidMount)(this.input,this.props.instance,this.state),this.props.instance.data.autoFocus&&this.input.focus()},e.prototype.componentWillUnmount=function(){(0,p.tooltipComponentWillUnmount)(this.input)},e.prototype.getPreCursorDigits=function(t,e){for(var n="",o=u.Culture.getNumberCulture(),r=o.decimalSeparator||".",i=0;i<e;i++)"0"<=t[i]&&t[i]<="9"?n+=t[i]:t[i]==r?n+=".":"-"==t[i]&&(n+="-");return n},e.prototype.updateCursorPosition=function(t){if("string"==typeof t){for(var e=0,n=0,o=this.input.value||"";n<t.length&&e<o.length;)o[e]==t[n]?(e++,n++):e++;this.input.setSelectionRange(e,e)}},e.prototype.calculateIncrement=function(t,e){if(0==t)return.1;var n=Math.abs(t*e),o=Math.floor(Math.log10(n)+.001),r=Math.pow(10,o);return n/r>4.999?5*r:n/r>1.999?2*r:r},e.prototype.onChange=function(t,e){var n=this.props.instance,o=n.data,r=n.widget;if("blur"==e&&this.setState({visited:!0}),t.target.value){var i=u.Culture.getNumberCulture().parse(t.target.value);if(isNaN(i))return void this.props.instance.setState({inputError:"Invalid number entered."});if("wheel"==e){t.preventDefault();var s=null!=o.increment?o.increment:this.calculateIncrement(i,o.incrementPercentage);if(i+=t.deltaY<0?s:-s,r.snapToIncrement&&(i=Math.round(i/s)*s),null!=o.minValue)if(o.minExclusive){if(i<=o.minValue)return}else i=Math.max(i,o.minValue);if(null!=o.maxValue)if(o.maxExclusive){if(i>=o.maxValue)return}else i=Math.min(i,o.maxValue)}var a=o.format,c=l.Format.value(i,a),p=u.Culture.getNumberCulture();if(i=p.parse(c),"blur"!=e&&"."!=t.target.value[t.target.value.length-1]&&","!=t.target.value[t.target.value.length-1]&&("0"!=t.target.value[t.target.value.length-1]||"-1"==t.target.value.indexOf(p.decimalSeparator))){var h=this.getPreCursorDigits(this.input.value,this.input.selectionStart);this.input.value=c,this.updateCursorPosition(h)}this.props.handleChange(t,e,i)}else this.props.handleChange(t,e,null)},e}(s.VDOM.Component)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.DataAdapter=void 0;var s=n(29),a=e.DataAdapter=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.getRecords=function(){throw new Error("Abstract method")},e.prototype.setFilter=function(){},e.prototype.sort=function(){},e}(s.Component);a.prototype.recordName="$record",a.prototype.indexName="$index"},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.ContentPlaceholder=void 0;var s=n(2),a=n(9),l=e.ContentPlaceholder=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{name:void 0}]))},e.prototype.explore=function(e,n,o){var r=this;n.content=null;var i=e.content&&e.content[o.name];i?this.setContent(e,n,i):(e.contentPlaceholder||(e.contentPlaceholder={}),e.contentPlaceholder[o.name]=function(t){r.setContent(e,n,t)}),t.prototype.explore.call(this,e,n)},e.prototype.prepare=function(e,n){n.content?n.content.shouldUpdate&&(n.shouldUpdate=!0):t.prototype.prepare.call(this,e,n)},e.prototype.setContent=function(t,e,n){e.content=n,n.pure||(e.pure=!1),n.shouldUpdate&&(e.shouldUpdate=!0)},e.prototype.cleanup=function(e,n){n.content||t.prototype.cleanup.call(this,e,n)},e.prototype.render=function(e,n,o){var r=n.content;if(r){r.shouldRenderContent=!0;var i=r.render(e);return r.shouldRenderContent=!1,i}return t.prototype.render.call(this,e,n,o)},e}(a.PureContainer);l.prototype.name="body",s.Widget.alias("content-placeholder",l)},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Route=void 0;var a=n(2),l=n(9),u=n(265),c=o(u),p=n(50),h=e.Route=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return s(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.matcher=new c.default(this.route)},e.prototype.initInstance=function(e,n){t.prototype.initInstance.call(this,e,n),n.store=new p.ReadOnlyDataView(n.store),n.setStore=function(t){n.store.setStore(t)}},e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{url:void 0}]))},e.prototype.checkVisible=function(e,n,o){return o.url!==n.cached.url&&(n.cached.url=o.url,n.cached.result=this.matcher.match(o.url)),!!n.cached.result&&t.prototype.checkVisible.call(this,e,n,o)},e.prototype.prepareData=function(e,n){var o,r,i=(n.data,n.store),s=n.cached;if((o=t.prototype.prepareData).call.apply(o,[this].concat(Array.prototype.slice.call(arguments))),i.setData((r={},r[this.recordName]=s.result,r)),this.params&&this.params.bind){var a=i.get(this.params.bind);JSON.stringify(a)!=JSON.stringify(s.result)&&i.set(this.params.bind,s.result)}if(this.map)for(var l in result){var u=this.map[l];u&&i.set(u,result[l])}},e}(l.PureContainer);h.prototype.recordName="$route",a.Widget.alias("route",h)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Tab=void 0;var s=n(2),a=n(7),l=e.Tab=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;(e=t.prototype.declareData).call.apply(e,[this,{tab:void 0,value:void 0,disabled:void 0,text:void 0}].concat(Array.prototype.slice.call(arguments)))},e.prototype.prepareData=function(e,n){var o=n.data;o.stateMods={active:o.tab==o.value,disabled:o.disabled,shape:this.shape},t.prototype.prepareData.call(this,e,n)},e.prototype.isValidHtmlAttribute=function(e){switch(e){case"value":case"tab":case"text":case"disabled":return!1;default:return t.prototype.isValidHtmlAttribute.call(this,e)}},e.prototype.attachProps=function(t,e,n){var o=this,r=e.data;r.disabled||(n.href="#",delete n.value,n.onClick=function(t){o.handleClick(t,e)})},e.prototype.handleClick=function(t,e){t.preventDefault(),t.stopPropagation();var n=e.data;n.disabled||e.set("value",n.tab)},e}(a.HtmlElement);l.prototype.baseClass="tab",l.prototype.tag="a",s.Widget.alias("tab",l)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.MsgBox=void 0;var r=n(2),i=n(7),s=n(175),a=n(21);e.MsgBox=function(){function t(){o(this,t)}return t.alert=function(t){return"string"==typeof t&&(t={message:t}),new Promise(function(e){var n=function(n,o){t.callback&&t.callback()===!1||(o.parentOptions.dismiss(),e())},o=r.Widget.create({$type:s.Window,title:t.title,header:t.header,mod:"alert",modal:!0,center:!0,resizable:!1,jsxAttributes:["title","header","mod","modal","center","resizable"],children:["\n               ",t.message,"\n               ",{$type:i.HtmlElement,tag:"div",putInto:"footer",jsxAttributes:["putInto"],children:["\n                  ",{$type:a.Button,onClick:n,jsxAttributes:["onClick"],children:["OK"]},"\n               "]},"\n            "]});o.open(t.store)})},t.yesNo=function(t){return"string"==typeof t&&(t={message:t}),new Promise(function(e,n){var o=function(n){return function(o,r){t.callback&&t.callback(n)===!1||(r.parentOptions.dismiss(),e("yes"==n?n:n))}},l=r.Widget.create({$type:s.Window,title:t.title,header:t.header,mod:"alert",modal:!0,center:!0,resizable:!1,closable:!1,jsxAttributes:["title","header","mod","modal","center","resizable","closable"],children:["\n               ",t.message,"\n               ",{$type:i.HtmlElement,tag:"div",putInto:"footer",jsxAttributes:["putInto"],children:["\n                  ",{$type:a.Button,onClick:o("yes"),jsxAttributes:["onClick"],children:["Yes"]},"\n                  "," ","\n                  ",{$type:a.Button,onClick:o("no"),jsxAttributes:["onClick"],children:["No"]},"\n               "]},"\n            "]});l.open(t.store)})},t}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Window=void 0;var s=n(2),a=n(104),l=n(171),u=n(176),c=e.Window=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.declareData=function(){var e;return(e=t.prototype.declareData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{title:void 0,closable:void 0}]))},e.prototype.initComponents=function(){var e;return(e=t.prototype.initComponents).call.apply(e,[this].concat(Array.prototype.slice.call(arguments),[{header:s.Widget.create(this.header||{type:l.ContentPlaceholder,name:"header"}),footer:s.Widget.create(this.footer||{type:l.ContentPlaceholder,name:"footer"})}]))},e.prototype.renderHeader=function(t,e,n){var o=e.data;return(0,s.getContent)(e.components&&e.components.header&&e.components.header.render(t,n))||o.title},e.prototype.renderFooter=function(t,e,n){return(0,s.getContent)(e.components&&e.components.footer&&e.components.footer.render(t,n))},e.prototype.render=function(t,e,n){var o=this.renderHeader(t,e,"header"),r=this.renderFooter(t,e,"footer");return s.VDOM.createElement(p,{key:n,instance:e,header:o,footer:r},this.renderContents(t,e))},e}(a.Overlay);c.prototype.baseClass="window",c.prototype.closable=!0,c.prototype.resizable=!0,c.prototype.autoFocus=!0,s.Widget.alias("window",c);var p=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.renderOverlayBody=function(){var t=this,e=this.props.instance,n=e.widget,o=e.data,r=e.dismiss,i=n.CSS,a=n.baseClass,l=null;if(this.el){var u=0;this.headerEl&&(u+=this.headerEl.offsetHeight),this.footerEl&&(u+=this.footerEl.offsetHeight),l={height:"calc(100% - "+u+"px"}}var c,p,h;this.props.header&&(r&&o.closable&&(h=s.VDOM.createElement("button",{className:i.element(a,"close"),type:"button",onMouseDown:function(t){t.stopPropagation()},onTouchStart:function(t){t.stopPropagation()},onClick:function(){r()}})),c=s.VDOM.createElement("header",{key:"header",ref:function(e){t.headerEl=e},className:i.element(a,"header"),onMouseDown:this.onHeaderMouseDown.bind(this),onTouchStart:this.onHeaderMouseDown.bind(this)},this.props.header,h)),this.props.footer&&(p=s.VDOM.createElement("footer",{key:"footer",ref:function(e){t.footerEl=e},className:i.element(a,"footer")},this.props.footer));var d=s.VDOM.createElement("div",{key:"body",ref:function(e){t.bodyEl=e},className:i.element(n.baseClass,"body"),style:l},this.props.children);return[c,d,p]},e.prototype.getOverlayCssClass=function(){var e=t.prototype.getOverlayCssClass.call(this);return this.state.active&&(e+=" cxs-active"),e},e.prototype.onFocusIn=function(){var e=this;t.prototype.onFocusIn.call(this),this.state.active||this.setState({active:!0},function(){e.setCustomStyle({zIndex:u.ZIndexManager.next()})})},e.prototype.onFocusOut=function(){t.prototype.onFocusOut.call(this),this.state.active&&this.setState({active:!1})},e.prototype.onHeaderMouseDown=function(t){this.startMoveOperation(t),t.stopPropagation()},e}(a.OverlayComponent);p.prototype.focusable=!0},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=1e4;e.ZIndexManager=function(){function t(){n(this,t)}return t.next=function(){return++o},t}()},function(t,e){"use strict";function n(t,e,n,o,r){var i;t.target.setCapture?(i=t.currentTarget,i.setCapture()):(i=document.createElement("div"),i.className="cxb-mousecapture",r&&(i.style.cursor=r),document.body.appendChild(i));var s=function(t){e&&e(t,o),t.stopPropagation(),t.preventDefault()},a=function t(e){try{n&&n(e)}finally{i.removeEventListener("mousemove",s),i.removeEventListener("mouseup",t),i.releaseCapture?i.releaseCapture():document.body.removeChild(i)}};i.addEventListener("mousemove",s),i.addEventListener("mouseup",a),t.stopPropagation()}function o(t,e,o,r,i){if(0==t.type.indexOf("touch")){var s=t.currentTarget,a=function(t){e&&e(t,r),t.preventDefault()},l=function t(e){s.removeEventListener("touchmove",a),s.removeEventListener("touchend",t),o&&o(e),e.preventDefault()};s.addEventListener("touchmove",a),s.addEventListener("touchend",l),t.stopPropagation()}else n(t,e,o,r,i||t.target.style.cursor)}function r(t){return t.touches&&t.touches[0]||t}e.__esModule=!0,e.captureMouse=n,e.captureMouseOrTouch=o,e.getCursorPos=r},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Selection=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(29),l=e.Selection=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.isSelected=function(t,e,n){return this.bind&&t.get(this.bind)===e},e.prototype.getIsSelectedDelegate=function(t){var e=this;return function(n,o){return e.isSelected(t,n,o)}},e.prototype.select=function(t,e,n){},e.prototype.declareData=function(){var t={$selection:{structured:!0}};return Object.assign.apply(Object,[t].concat(Array.prototype.slice.call(arguments)))},e.prototype.configureWidget=function(t){return(this.record||this.index)&&(t.$selection=Object.assign(t.$selection||{},{record:this.record,index:this.index})),this.declareData()},e.prototype.selectInstance=function(t){var e=t.store,n=t.data;if(!n.$selection)throw new Error("Selection model not properly configured. Using the selectInstance method without specified record and index bindings.");return this.select(e,n.$selection.record,n.$selection.index)},e.prototype.isInstanceSelected=function(t){var e=t.store,n=t.data;return n.$selection&&this.isSelected(e,n.$selection.record,n.$selection.index)},e}(a.Component);l.namespace="ui.selection.";var u=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.isSelected=function(t,e,n){return getIsSelectedDelegate(t)(e,n)},e.prototype.getIsSelectedDelegate=function(t){var e=this.bind&&t.get(this.bind);return function(t,n){return t===e}},e.prototype.select=function(t,e,n){this.bind&&t.set(this.bind,e)},e}(l),c=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.isSelected=function(t,e,n){return!1},e}(l);c.prototype.isDummy=!0,l.factory=function(t){return"object"==("undefined"==typeof t?"undefined":s(t))?new u(t):new c}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.Timing=e.vdomRenderFlag=e.appLoopFlag=void 0;var r=n(33),i=(e.appLoopFlag="app-loop",e.vdomRenderFlag="vdom-render",{}),s="production",a=e.Timing=function(){function t(){o(this,t)}return t.prototype.now=function(){return(new Date).getTime()},t.enable=function(t){l[t]=!0},t.disable=function(t){l[t]=!1},t.count=function(t){if("production"!=s){if(!l[t])return;return i[t]=(i[t]||0)+1}},t.log=function(t){if("production"!=s){if(!l[t])return;r.Console.log.apply(r.Console,arguments)}},t}(),l={};window.performance&&window.performance.now&&(a.now=function(){return performance.now()})},function(t,e){"use strict";function n(t,e){return t.getTime()-e.getTime()}e.__esModule=!0,e.dateDiff=n},function(t,e){"use strict";function n(t){var e=RegExp(/(\((?:\w+,)*\w+\)|\(\)|\w+)[\r\t ]*=>\s*/),r=e.exec(t);if(r){var i=r[1];"("!==i.charAt(0)&&(i="("+i+")");for(var s=r.index,a=t.substring(0,s),l=t.substring(s+r[0].length),u=0,c=!1,p=0,h=0,d=0;d<l.length;d++){var f=l[d];if("{"===f)c=!0,u++;else if("}"===f)u--;else if(!c){p=o(l,d);break}if(c&&0===u){h=d;break}}var y;if(c){if(0!==u)throw Error("Could not match curly braces for function at : "+s);y=l.substring(0,h+1);var m=l.substring(h+1),g="(function "+i+y+").bind(this)";t=a+g+m}else{if(p<=0)throw Error("could not get function body at : "+s);y=l.substring(0,p+1),m=l.substring(p+1),g="(function "+i+"{return "+y+"}).bind(this)",t=a+g+m}return n(t)}return t}function o(t,e){for(var n=0,o=null,i=e;i<t.length;i++){var s=t[i],a=null;if('"'!==s&&"'"!==s||(o=s,i=r(t,o,i),s=t[i]),0===i||t[i-1].match(/[\t\r ]/)||(a=t[i-1]),"{"===s||"("===s?n++:"}"!==s&&")"!==s||n--,n<0||"."!==a&&"\n"===s)return i-1}return t.length}function r(t,e,n){var o=!1,r=n;for(n++;n<t.length;n++){var i=t[n],s=0!==n?t[n-1]:null;if(i===e&&(i!==e||"\\"!==s)&&i===e){o=!1;break}}if(o)throw new Error("Could not find closing quote for quote at : "+r);return n}e.__esModule=!0,e.expandFatArrows=n},function(t,e){"use strict";function n(t){return t=t.replace(/\t/g,""),t=t.replace(/(\s*[\r\n]\s*)/g,"")}e.__esModule=!0,e.innerTextTrim=n},function(t,e){"use strict";function n(t){return t>="0"&&t<="9"}e.__esModule=!0,e.isDigit=n},function(t,e){"use strict";function n(t){return"object"==("undefined"==typeof t?"undefined":o(t))&&t&&"function"==typeof t.then}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isPromise=n},function(t,e,n){"use strict";function o(t){var e=(0,r.closest)(t,function(t){return t.scrollHeight>t.offsetHeight});if(!e)return!1;var n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return o.bottom>n.bottom&&(e.scrollTop=Math.max(0,e.scrollTop+o.bottom-n.bottom)),o.top<n.top&&(e.scrollTop=Math.max(0,e.scrollTop+o.top-n.top)),!0}e.__esModule=!0,e.scrollElementIntoView=o;var r=n(24)},function(t,e){"use strict";function n(t){if("string"!=typeof t)return t;for(var e={Y:0,y:0,M:0,D:0,d:0,H:0,h:0,m:0,i:0,S:0,s:0,A:0,a:0,P:0,p:0,N:0,n:0,T:0,t:0,U:0,u:0,Z:0,z:0},n=0;n<t.length;n++)e[t[n]]++;var o={},r=e.Y+e.y;r>2?o.year="numeric":r>0&&(o.year="2-digit");var i=e.M;i>3?o.month="long":i>2?o.month="short":i>1?o.month="2-digit":i>0&&(o.month="numeric");var s=e.d;s>1?o.day="2-digit":s>0&&(o.day="numeric");var a=e.D;a>3&&(o.weekday="long"),a>1?o.weekday="short":a>0&&(o.weekday="narrow");var l=e.H+e.h;l>1?o.hour="2-digit":l>0&&(o.hour="numeric");var u=e.m;u>1?o.minute="2-digit":u>0&&(o.minute="numeric");var c=e.S+e.s;c>1?o.second="2-digit":c>0&&(o.second="numeric");var p=e.T+e.t;p>3?o.timeZoneName="long":p>0&&(o.timeZoneName="short");var h=e.A+e.a+e.P+e.p;h&&(o.hour12=!0);var d=e.N+e.n;d&&(o.hour12=!1);var f=e.U+e.u+e.Z+e.z;return f>0&&(o.timeZone="UTC"),o}function o(t){for(var e,n,o,r=[],i=[],s="",a=0,l=0;l<=t.length;l++)l==t.length?e="end":(n=t[l],e=n.match(/[a-z]/i)?"alpha":n.match(/[0-9]/)?"number":"sep"),e!=s&&(l>a&&(o=t.substring(a,l),"alpha"==s?i.push(o.toLowerCase()):"number"==s&&r.push(parseInt(o))),a=l,s=e);return{alphas:i,numbers:r}}var r=function(t){this.cultures=t};r.prototype.load=function(){var t=new Intl.NumberFormat(this.cultures),e=t.format("0.1");this.decimalSeparator=e[1],this.decimalSepRegex=new RegExp("\\"+this.decimalSeparator,"g")},r.prototype.parse=function(t){var e=this;if("string"!=typeof t||!t)return null;this.decimalSeparator||this.load();for(var n="",o=0;o<t.length;o++)(t[o]==e.decimalSeparator||t[o]>="0"&&t[o]<="9"||"-"==t[o])&&(n+=t[o]);var r=n.replace(this.decimalSepRegex,".");return parseFloat(r)},r.prototype.format=function(t,e){return this.getFormatter(e).format(t)},r.prototype.getFormatter=function(t){return new Intl.NumberFormat(this.cultures,t)};var i=["narrow","short","long"],s=["narrow","short","long"],a=function(t){this.cultures=t};a.prototype.format=function(t,e){return this.getFormatter(e).format(t)},a.prototype.getFormatter=function(t){return new Intl.DateTimeFormat(this.cultures,n(t))},a.prototype.getWeekdayNames=function(t){return this.load(),this.weekdayNames.map(function(e){return e[t]})},a.prototype.getMonthNames=function(t){return this.load(),this.monthNames.map(function(e){return e[t]})},a.prototype.parse=function(t,e){var n=this;void 0===e&&(e={useCurrentDateForDefaults:!1});var r=e.useCurrentDateForDefaults;if("string"!=typeof t||!t)return null;this.load();var i=o(t),s={year:void 0,month:void 0,date:void 0,hour:0,minute:0,second:0};return i.alphas.forEach(function(t){for(var e=0;e<12;e++)for(var o in n.monthNames[e])if(t==n.monthNames[e][o].toLowerCase()){s.month=e+1,e=12;break}}),i.numbers.forEach(function(t){if(t>=1970)s.year=t;else if(t>12)s.date=t;else for(var e=0;e<n.dateParts.length;e++){var o=n.dateParts[e];if(void 0==s[o]){s[o]=t;break}}}),r&&(void 0==s.date&&(void 0==s.month?s.date=(new Date).getDate():s.date=1),void 0==s.month&&(void 0==s.year?s.month=(new Date).getMonth()+1:s.month=1),void 0==s.year&&(s.year=(new Date).getFullYear())),s.year>=1970&&s.date>=1&&s.date<=31&&s.month>=1&&s.month<=12?new Date(s.year,s.month-1,s.date,s.hour,s.minute,s.second):Number.NaN},a.prototype.load=function(){var t=this;if(!this.loaded){for(var e,n=[],r=0;r<12;r++)n.push({});s.forEach(function(o){var r=new Intl.DateTimeFormat(t.cultures,{month:o});for(e=0;e<12;e++)n[e][o]=r.format(new Date(2e3,e,1))}),this.monthNames=n;var a=[];for(e=0;e<7;e++)a.push({});i.forEach(function(n){var o=new Intl.DateTimeFormat(t.cultures,{weekday:n});for(e=0;e<7;e++){var r=new Date(2e3,0,e);a[r.getDay()][n]=o.format(r)}}),this.weekdayNames=a;var l=new Date(2077,10,22),u=new Intl.DateTimeFormat(this.cultures).format(l),c=u.replace(2077,"year").replace(11,"month").replace(22,"date");this.dateParts=o(c).alphas,
this.loaded=!0}},e.NumberCulture=r,e.weekdayFormats=i,e.monthFormats=s,e.DateTimeCulture=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var o=n(266);t.exports=o},function(t,e,n){"use strict";function o(t){var e;if(e=this?this:Object.create(o.prototype),"undefined"==typeof t)throw new Error("A route spec is required");return e.spec=t,e.ast=r.parse(t),e}var r=n(268),i=n(269),s=n(270);o.prototype=Object.create(null),o.prototype.match=function(t){var e=i.visit(this.ast),n=e.match(t);return!!n&&n},o.prototype.reverse=function(t){return s.visit(this.ast,t)},t.exports=o},function(t,e,n){var o=function(){function t(){this.yy={}}var e=function(t,e,n,o){for(n=n||{},o=t.length;o--;n[t[o]]=e);return n},n=[1,9],o=[1,10],r=[1,11],i=[1,12],s=[5,11,12,13,14,15],a={trace:function(){},yy:{},symbols_:{error:2,root:3,expressions:4,EOF:5,expression:6,optional:7,literal:8,splat:9,param:10,"(":11,")":12,LITERAL:13,SPLAT:14,PARAM:15,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"(",12:")",13:"LITERAL",14:"SPLAT",15:"PARAM"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,1],[6,1],[7,3],[8,1],[9,1],[10,1]],performAction:function(t,e,n,o,r,i,s){var a=i.length-1;switch(r){case 1:return new o.Root({},[i[a-1]]);case 2:return new o.Root({},[new o.Literal({value:""})]);case 3:this.$=new o.Concat({},[i[a-1],i[a]]);break;case 4:case 5:this.$=i[a];break;case 6:this.$=new o.Literal({value:i[a]});break;case 7:this.$=new o.Splat({name:i[a]});break;case 8:this.$=new o.Param({name:i[a]});break;case 9:this.$=new o.Optional({},[i[a-1]]);break;case 10:this.$=t;break;case 11:case 12:this.$=t.slice(1)}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:8,11:n,13:o,14:r,15:i},{1:[3]},{5:[1,13],6:14,7:5,8:6,9:7,10:8,11:n,13:o,14:r,15:i},{1:[2,2]},e(s,[2,4]),e(s,[2,5]),e(s,[2,6]),e(s,[2,7]),e(s,[2,8]),{4:15,6:4,7:5,8:6,9:7,10:8,11:n,13:o,14:r,15:i},e(s,[2,10]),e(s,[2,11]),e(s,[2,12]),{1:[2,1]},e(s,[2,3]),{6:14,7:5,8:6,9:7,10:8,11:n,12:[1,16],13:o,14:r,15:i},e(s,[2,9])],defaultActions:{3:[2,2],13:[2,1]},parseError:function(t,e){function n(t,e){this.message=t,this.hash=e}if(!e.recoverable)throw n.prototype=Error,new n(t,e);this.trace(t)},parse:function(t){var e=this,n=[0],o=[null],r=[],i=this.table,s="",a=0,l=0,u=0,c=2,p=1,h=r.slice.call(arguments,1),d=Object.create(this.lexer),f={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(f.yy[y]=this.yy[y]);d.setInput(t,f.yy),f.yy.lexer=d,f.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var m=d.yylloc;r.push(m);var g=d.options&&d.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,v,w,x,k,C,O,D,E,_=function(){var t;return t=d.lex()||p,"number"!=typeof t&&(t=e.symbols_[t]||t),t},S={};;){if(w=n[n.length-1],this.defaultActions[w]?x=this.defaultActions[w]:(null!==b&&"undefined"!=typeof b||(b=_()),x=i[w]&&i[w][b]),"undefined"==typeof x||!x.length||!x[0]){var M="";E=[];for(C in i[w])this.terminals_[C]&&C>c&&E.push("'"+this.terminals_[C]+"'");M=d.showPosition?"Parse error on line "+(a+1)+":\n"+d.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(a+1)+": Unexpected "+(b==p?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(M,{text:d.match,token:this.terminals_[b]||b,line:d.yylineno,loc:m,expected:E})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(x[0]){case 1:n.push(b),o.push(d.yytext),r.push(d.yylloc),n.push(x[1]),b=null,v?(b=v,v=null):(l=d.yyleng,s=d.yytext,a=d.yylineno,m=d.yylloc,u>0&&u--);break;case 2:if(O=this.productions_[x[1]][1],S.$=o[o.length-O],S._$={first_line:r[r.length-(O||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(O||1)].first_column,last_column:r[r.length-1].last_column},g&&(S._$.range=[r[r.length-(O||1)].range[0],r[r.length-1].range[1]]),k=this.performAction.apply(S,[s,l,a,f.yy,x[1],o,r].concat(h)),"undefined"!=typeof k)return k;O&&(n=n.slice(0,-1*O*2),o=o.slice(0,-1*O),r=r.slice(0,-1*O)),n.push(this.productions_[x[1]][0]),o.push(S.$),r.push(S._$),D=i[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},l=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var o=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===o.length?this.yylloc.first_column:0)+o[o.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,o,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),o=t[0].match(/(?:\r\n?|\n).*/g),o&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in r)this[i]=r[i];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,o;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),i=0;i<r.length;i++)if(n=this._input.match(this.rules[r[i]]),n&&(!e||n[0].length>e[0].length)){if(e=n,o=i,this.options.backtrack_lexer){if(t=this.test_match(n,r[i]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,r[o]),t!==!1&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,o){switch(n){case 0:return"(";case 1:return")";case 2:return"SPLAT";case 3:return"PARAM";case 4:return"LITERAL";case 5:return"LITERAL";case 6:return"EOF"}},rules:[/^(?:\()/,/^(?:\))/,/^(?:\*+\w+)/,/^(?::+\w+)/,/^(?:[\w%\-~\n]+)/,/^(?:.)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6],inclusive:!0}}};return t}();return a.lexer=l,t.prototype=a,a.Parser=t,new t}();e.parser=o,e.Parser=o.Parser,e.parse=function(){return o.parse.apply(o,arguments)}},function(t,e,n){"use strict";var o=n(267).parser;o.yy=n(140),t.exports=o},function(t,e,n){"use strict";function o(t){this.captures=t.captures,this.re=t.re}var r=n(141),i=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.prototype.match=function(t){var e=this.re.exec(t),n={};if(e)return this.captures.forEach(function(t,o){"undefined"==typeof e[o+1]?n[t]=void 0:n[t]=decodeURIComponent(e[o+1])}),n};var s=r({Concat:function(t){return t.children.reduce(function(t,e){var n=this.visit(e);return{re:t.re+n.re,captures:t.captures.concat(n.captures)}}.bind(this),{re:"",captures:[]})},Literal:function(t){return{re:t.props.value.replace(i,"\\$&"),captures:[]}},Splat:function(t){return{re:"([^?]*?)",captures:[t.props.name]}},Param:function(t){return{re:"([^\\/\\?]+)",captures:[t.props.name]}},Optional:function(t){var e=this.visit(t.children[0]);return{re:"(?:"+e.re+")?",captures:e.captures}},Root:function(t){var e=this.visit(t.children[0]);return new o({re:new RegExp("^"+e.re+"(?=\\?|$)"),captures:e.captures})}});t.exports=s},function(t,e,n){"use strict";var o=n(141),r=o({Concat:function(t,e){var n=t.children.map(function(t){return this.visit(t,e)}.bind(this));return!n.some(function(t){return t===!1})&&n.join("")},Literal:function(t){return decodeURI(t.props.value)},Splat:function(t,e){return!!e[t.props.name]&&e[t.props.name]},Param:function(t,e){return!!e[t.props.name]&&e[t.props.name]},Optional:function(t,e){var n=this.visit(t.children[0],e);return n?n:""},Root:function(t,e){e=e||{};var n=this.visit(t.children[0],e);return!!n&&encodeURI(n)}});t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(){h.set("hash",window.location.hash||"#")}var i=n(84),s=n(85),a=n(142),l=o(a),u=n(2),c=n(28);n(143);var p,h=new s.Store;r(),setInterval(r,100),u.Widget.resetCounter(),c.Debug.enable("app-data"),p=(0,i.startAppLoop)(document.getElementById("app"),h,l.default)}],[272]);